"use strict";var e=require("@solana/wallet-adapter-base"),r=require("@solana/wallet-standard-wallet-adapter-base"),o=require("@wallet-standard/app"),i=require("./privy-provider-ChgF3evV.js"),n=require("react"),t=require("./internal-context-GxD_jR-e.js"),c=require("./useFundWallet-B5OhQcpf.js");require("react/jsx-runtime"),require("mipd"),require("react-device-detect"),require("viem/utils"),require("@privy-io/js-sdk-core"),require("viem"),require("uuid"),require("jose"),require("eventemitter3"),require("@coinbase/wallet-sdk"),require("@marsidev/react-turnstile"),require("styled-components"),require("tinycolor2"),require("@heroicons/react/24/outline/DevicePhoneMobileIcon"),require("@heroicons/react/24/outline/FingerPrintIcon"),require("@heroicons/react/24/outline/PhoneIcon"),require("@heroicons/react/24/outline/ShieldCheckIcon"),require("@heroicons/react/24/outline/ArrowLeftIcon"),require("@heroicons/react/24/outline/ArrowRightIcon"),require("@heroicons/react/24/outline/QuestionMarkCircleIcon"),require("@heroicons/react/24/outline/XMarkIcon"),require("@heroicons/react/24/outline/ChevronDownIcon"),require("@heroicons/react/24/outline/CalendarIcon"),require("@heroicons/react/24/outline/ExclamationTriangleIcon"),require("@headlessui/react"),require("@walletconnect/ethereum-provider"),require("zustand"),require("fast-password-entropy"),require("secure-password-utilities"),require("secure-password-utilities/wordlists"),require("@heroicons/react/24/outline/UserCircleIcon"),require("@heroicons/react/24/outline/EnvelopeIcon"),require("@heroicons/react/20/solid/CheckIcon"),require("@heroicons/react/24/outline/WalletIcon"),require("@heroicons/react/24/outline/CheckIcon"),require("@heroicons/react/24/outline/Square2StackIcon"),require("@heroicons/react/24/outline/ExclamationCircleIcon"),require("@heroicons/react/24/outline/ArrowTopRightOnSquareIcon"),require("@heroicons/react/24/solid/DocumentCheckIcon"),require("@heroicons/react/24/solid/XCircleIcon"),require("@heroicons/react/24/solid/CheckCircleIcon"),require("qrcode"),require("@heroicons/react/24/outline/ChevronRightIcon"),require("@heroicons/react/24/outline/LockClosedIcon"),require("@heroicons/react/24/outline/PencilSquareIcon"),require("@heroicons/react/24/outline/ArrowPathIcon"),require("@heroicons/react/24/outline/EyeIcon"),require("@heroicons/react/24/outline/EyeSlashIcon"),require("@heroicons/react/24/outline/KeyIcon"),require("@heroicons/react/24/outline/ArrowDownTrayIcon"),require("@heroicons/react/24/outline/ClipboardDocumentCheckIcon"),require("@heroicons/react/24/outline/DocumentDuplicateIcon"),require("@heroicons/react/24/solid/LockClosedIcon"),require("@heroicons/react/24/outline/CheckCircleIcon"),require("@heroicons/react/24/outline/InformationCircleIcon"),require("@heroicons/react/24/outline/CreditCardIcon"),require("@heroicons/react/24/outline/QrCodeIcon"),require("@heroicons/react/24/solid/ArrowsRightLeftIcon"),require("@heroicons/react/24/outline/GlobeAltIcon"),require("ofetch"),require("@heroicons/react/24/outline"),require("@heroicons/react/24/outline/ClipboardDocumentIcon"),require("@heroicons/react/24/outline/CloudArrowUpIcon"),require("@heroicons/react/24/outline/NoSymbolIcon"),require("@heroicons/react/24/outline/ClockIcon"),require("@heroicons/react/24/outline/TrashIcon"),require("@heroicons/react/24/solid/CheckBadgeIcon"),require("@heroicons/react/24/solid/IdentificationIcon"),require("@heroicons/react/24/outline/MinusCircleIcon"),require("@heroicons/react/24/outline/ArrowRightEndOnRectangleIcon"),require("@heroicons/react/24/solid/ShieldCheckIcon"),require("js-cookie"),require("@solana/web3.js");let a=o=>o.filter(e.isWalletAdapterCompatibleStandardWallet).map((e=>new r.StandardWalletAdapter({wallet:e})));exports.SolanaAdapterConnector=i.SolanaWalletConnector,exports.useSendTransaction=i.useSendTransaction,exports.useSignMessage=i.useSignMessage,exports.useSolanaWallets=i.useSolanaWallets,exports.useFundWallet=c.useFundWallet,exports.toSolanaWalletConnectors=e=>{let r,{get:n,on:t}=o.getWallets(),c=e?.shouldAutoConnect??!0,s=[],l=[];function u(...e){l=(s=s.concat(...a(e))).map((e=>new i.SolanaWalletConnector(e,c))),r?.(l)}function q(...e){l=(s=s.filter((r=>e.some((e=>r.wallet===e))))).map((e=>new i.SolanaWalletConnector(e,c))),r?.(l)}let h=[t("register",u),t("unregister",q)];return l=(s=a(n())).map((e=>new i.SolanaWalletConnector(e,c))),{_setOnConnectorsUpdated:e=>{r=e},onMount:()=>{h[0]||(h[0]=t("register",u)),h[1]||(h[1]=t("unregister",q))},onUnmount:()=>{let e=h.pop();for(;e;)e(),e=h.pop()},get:()=>l}},exports.useImportWallet=()=>{let{getAccessToken:e,user:r}=i.usePrivyContext(),{refreshSessionAndUser:o,initializeWalletProxy:c}=t.usePrivyInternal(),a=i.useEmitPrivyEvent();return{importWallet:n.useCallback((({privateKey:n})=>i.importWallet({getAccessToken:e,user:r,initializeWalletProxy:c,refreshSessionAndUser:o,emitPrivyEvent:a},{privateKey:n,chainType:"solana"})),[r,e,o,c,a])}},exports.useSignTransaction=function(e){let r=i.useAppConfig(),{getAccessToken:o,user:n}=i.usePrivy(),{setModalData:c}=i.usePrivyModal(),{isHeadlessSigning:a,openModal:s,walletProxy:l,recoverPrimaryWallet:u,privy:q}=t.usePrivyInternal(),h=i.useEmitPrivyEvent();return i.usePrivyEventSubscription("signSolanaTransaction",e),{signTransaction:async({transaction:e,connection:t,uiOptions:d,transactionOptions:p,address:I})=>{let{signedTransaction:C}=await i.signOrSendSolanaTransactionInternal({privy:q,appConfig:r,getAccessToken:o,isHeadlessSigning:a,emitPrivyEvent:h,setModalData:c,openModal:s,walletProxy:l,user:n,recoverPrimaryWallet:u},{transaction:e,connection:t,transactionOptions:p,uiOptions:d,address:I,signOnly:!0});return C}}},exports.useSolanaFundingPlugin=()=>i.useRegisterPlugin(c.t);

{"version":3,"file":"safe-connector-frEoWp-S.js","sources":["../../../../../node_modules/@safe-global/safe-apps-sdk/dist/esm/version.js","../../../../../node_modules/@safe-global/safe-apps-sdk/dist/esm/communication/utils.js","../../../../../node_modules/@safe-global/safe-apps-sdk/dist/esm/communication/messageFormatter.js","../../../../../node_modules/@safe-global/safe-apps-sdk/dist/esm/communication/methods.js","../../../../../node_modules/@safe-global/safe-apps-sdk/dist/esm/communication/index.js","../../../../../node_modules/@safe-global/safe-apps-sdk/dist/esm/types/sdk.js","../../../../../node_modules/@safe-global/safe-gateway-typescript-sdk/node_modules/cross-fetch/dist/browser-ponyfill.js","../../../../../node_modules/@safe-global/safe-gateway-typescript-sdk/dist/utils.js","../../../../../node_modules/@safe-global/safe-gateway-typescript-sdk/dist/endpoint.js","../../../../../node_modules/@safe-global/safe-gateway-typescript-sdk/dist/config.js","../../../../../node_modules/@safe-global/safe-gateway-typescript-sdk/dist/types/safe-info.js","../../../../../node_modules/@safe-global/safe-gateway-typescript-sdk/dist/types/safe-apps.js","../../../../../node_modules/@safe-global/safe-gateway-typescript-sdk/dist/types/transactions.js","../../../../../node_modules/@safe-global/safe-gateway-typescript-sdk/dist/types/chains.js","../../../../../node_modules/@safe-global/safe-gateway-typescript-sdk/dist/types/common.js","../../../../../node_modules/@safe-global/safe-gateway-typescript-sdk/dist/types/master-copies.js","../../../../../node_modules/@safe-global/safe-gateway-typescript-sdk/dist/types/decoded-data.js","../../../../../node_modules/@safe-global/safe-gateway-typescript-sdk/dist/types/safe-messages.js","../../../../../node_modules/@safe-global/safe-gateway-typescript-sdk/dist/index.js","../../../../../node_modules/@safe-global/safe-apps-sdk/dist/esm/txs/index.js","../../../../../node_modules/@safe-global/safe-apps-sdk/dist/esm/eth/constants.js","../../../../../node_modules/@safe-global/safe-apps-sdk/dist/esm/eth/index.js","../../../../../node_modules/@safe-global/safe-apps-sdk/node_modules/abitype/dist/esm/regex.js","../../../../../node_modules/@safe-global/safe-apps-sdk/node_modules/abitype/dist/esm/human-readable/formatAbiParameter.js","../../../../../node_modules/@safe-global/safe-apps-sdk/node_modules/abitype/dist/esm/human-readable/formatAbiParameters.js","../../../../../node_modules/@safe-global/safe-apps-sdk/node_modules/abitype/dist/esm/human-readable/formatAbiItem.js","../../../../../node_modules/@safe-global/safe-apps-sdk/node_modules/viem/_esm/utils/abi/formatAbiItem.js","../../../../../node_modules/@safe-global/safe-apps-sdk/node_modules/viem/_esm/utils/data/isHex.js","../../../../../node_modules/@safe-global/safe-apps-sdk/node_modules/viem/_esm/utils/data/size.js","../../../../../node_modules/@safe-global/safe-apps-sdk/node_modules/viem/_esm/errors/version.js","../../../../../node_modules/@safe-global/safe-apps-sdk/node_modules/viem/_esm/errors/base.js","../../../../../node_modules/@safe-global/safe-apps-sdk/node_modules/viem/_esm/errors/abi.js","../../../../../node_modules/@safe-global/safe-apps-sdk/node_modules/viem/_esm/errors/data.js","../../../../../node_modules/@safe-global/safe-apps-sdk/node_modules/viem/_esm/utils/data/pad.js","../../../../../node_modules/@safe-global/safe-apps-sdk/node_modules/viem/_esm/errors/encoding.js","../../../../../node_modules/@safe-global/safe-apps-sdk/node_modules/viem/_esm/utils/encoding/fromHex.js","../../../../../node_modules/@safe-global/safe-apps-sdk/node_modules/viem/_esm/utils/encoding/toHex.js","../../../../../node_modules/@safe-global/safe-apps-sdk/node_modules/viem/_esm/utils/encoding/toBytes.js","../../../../../node_modules/@safe-global/safe-apps-sdk/node_modules/@noble/hashes/esm/_assert.js","../../../../../node_modules/@safe-global/safe-apps-sdk/node_modules/@noble/hashes/esm/_u64.js","../../../../../node_modules/@safe-global/safe-apps-sdk/node_modules/@noble/hashes/esm/utils.js","../../../../../node_modules/@safe-global/safe-apps-sdk/node_modules/@noble/hashes/esm/sha3.js","../../../../../node_modules/@safe-global/safe-apps-sdk/node_modules/viem/_esm/utils/hash/keccak256.js","../../../../../node_modules/@safe-global/safe-apps-sdk/node_modules/viem/_esm/utils/hash/hashSignature.js","../../../../../node_modules/@safe-global/safe-apps-sdk/node_modules/viem/_esm/utils/hash/normalizeSignature.js","../../../../../node_modules/@safe-global/safe-apps-sdk/node_modules/viem/_esm/utils/hash/toSignature.js","../../../../../node_modules/@safe-global/safe-apps-sdk/node_modules/viem/_esm/utils/hash/toSignatureHash.js","../../../../../node_modules/@safe-global/safe-apps-sdk/node_modules/viem/_esm/utils/hash/toEventSelector.js","../../../../../node_modules/@safe-global/safe-apps-sdk/node_modules/viem/_esm/errors/address.js","../../../../../node_modules/@safe-global/safe-apps-sdk/node_modules/viem/_esm/utils/lru.js","../../../../../node_modules/@safe-global/safe-apps-sdk/node_modules/viem/_esm/utils/address/getAddress.js","../../../../../node_modules/@safe-global/safe-apps-sdk/node_modules/viem/_esm/utils/address/isAddress.js","../../../../../node_modules/@safe-global/safe-apps-sdk/node_modules/viem/_esm/utils/data/concat.js","../../../../../node_modules/@safe-global/safe-apps-sdk/node_modules/viem/_esm/utils/data/slice.js","../../../../../node_modules/@safe-global/safe-apps-sdk/node_modules/viem/_esm/utils/abi/encodeAbiParameters.js","../../../../../node_modules/@safe-global/safe-apps-sdk/node_modules/viem/_esm/utils/hash/toFunctionSelector.js","../../../../../node_modules/@safe-global/safe-apps-sdk/node_modules/viem/_esm/utils/abi/getAbiItem.js","../../../../../node_modules/@safe-global/safe-apps-sdk/node_modules/viem/_esm/utils/abi/prepareEncodeFunctionData.js","../../../../../node_modules/@safe-global/safe-apps-sdk/node_modules/viem/_esm/utils/abi/encodeFunctionData.js","../../../../../node_modules/@safe-global/safe-apps-sdk/node_modules/viem/_esm/utils/regex.js","../../../../../node_modules/@safe-global/safe-apps-sdk/node_modules/viem/_esm/utils/signature/hashTypedData.js","../../../../../node_modules/@safe-global/safe-apps-sdk/node_modules/viem/_esm/utils/typedData.js","../../../../../node_modules/@safe-global/safe-apps-sdk/node_modules/viem/_esm/constants/strings.js","../../../../../node_modules/@safe-global/safe-apps-sdk/node_modules/viem/_esm/utils/signature/toPrefixedMessage.js","../../../../../node_modules/@safe-global/safe-apps-sdk/node_modules/viem/_esm/utils/signature/hashMessage.js","../../../../../node_modules/@safe-global/safe-apps-sdk/dist/esm/safe/signatures.js","../../../../../node_modules/@safe-global/safe-apps-sdk/dist/esm/types/permissions.js","../../../../../node_modules/@safe-global/safe-apps-sdk/dist/esm/wallet/index.js","../../../../../node_modules/@safe-global/safe-apps-sdk/dist/esm/decorators/requirePermissions.js","../../../../../node_modules/@safe-global/safe-apps-sdk/dist/esm/safe/index.js","../../../../../node_modules/@safe-global/safe-apps-sdk/dist/esm/sdk.js","../../../../../node_modules/@safe-global/safe-apps-provider/dist/utils.js","../../../../../node_modules/@safe-global/safe-apps-provider/dist/provider.js","../../../../../node_modules/@safe-global/safe-apps-provider/dist/index.js","../../../src/providers/safe/safe-connector.ts"],"sourcesContent":["export const getSDKVersion = () => '9.1.0';\n//# sourceMappingURL=version.js.map","// i.e. 0-255 -> '00'-'ff'\nconst dec2hex = (dec) => dec.toString(16).padStart(2, '0');\nconst generateId = (len) => {\n    const arr = new Uint8Array((len || 40) / 2);\n    window.crypto.getRandomValues(arr);\n    return Array.from(arr, dec2hex).join('');\n};\nconst generateRequestId = () => {\n    if (typeof window !== 'undefined') {\n        return generateId(10);\n    }\n    return new Date().getTime().toString(36);\n};\nexport { generateRequestId };\n//# sourceMappingURL=utils.js.map","import { getSDKVersion } from '../version.js';\nimport { generateRequestId } from './utils.js';\nclass MessageFormatter {\n}\nMessageFormatter.makeRequest = (method, params) => {\n    const id = generateRequestId();\n    return {\n        id,\n        method,\n        params,\n        env: {\n            sdkVersion: getSDKVersion(),\n        },\n    };\n};\nMessageFormatter.makeResponse = (id, data, version) => ({\n    id,\n    success: true,\n    version,\n    data,\n});\nMessageFormatter.makeErrorResponse = (id, error, version) => ({\n    id,\n    success: false,\n    error,\n    version,\n});\nexport { MessageFormatter };\n//# sourceMappingURL=messageFormatter.js.map","export var Methods;\n(function (Methods) {\n    Methods[\"sendTransactions\"] = \"sendTransactions\";\n    Methods[\"rpcCall\"] = \"rpcCall\";\n    Methods[\"getChainInfo\"] = \"getChainInfo\";\n    Methods[\"getSafeInfo\"] = \"getSafeInfo\";\n    Methods[\"getTxBySafeTxHash\"] = \"getTxBySafeTxHash\";\n    Methods[\"getSafeBalances\"] = \"getSafeBalances\";\n    Methods[\"signMessage\"] = \"signMessage\";\n    Methods[\"signTypedMessage\"] = \"signTypedMessage\";\n    Methods[\"getEnvironmentInfo\"] = \"getEnvironmentInfo\";\n    Methods[\"getOffChainSignature\"] = \"getOffChainSignature\";\n    Methods[\"requestAddressBook\"] = \"requestAddressBook\";\n    Methods[\"wallet_getPermissions\"] = \"wallet_getPermissions\";\n    Methods[\"wallet_requestPermissions\"] = \"wallet_requestPermissions\";\n})(Methods || (Methods = {}));\nexport var RestrictedMethods;\n(function (RestrictedMethods) {\n    RestrictedMethods[\"requestAddressBook\"] = \"requestAddressBook\";\n})(RestrictedMethods || (RestrictedMethods = {}));\n//# sourceMappingURL=methods.js.map","import { MessageFormatter } from './messageFormatter.js';\nclass PostMessageCommunicator {\n    constructor(allowedOrigins = null, debugMode = false) {\n        this.allowedOrigins = null;\n        this.callbacks = new Map();\n        this.debugMode = false;\n        this.isServer = typeof window === 'undefined';\n        this.isValidMessage = ({ origin, data, source }) => {\n            const emptyOrMalformed = !data;\n            const sentFromParentEl = !this.isServer && source === window.parent;\n            const majorVersionNumber = typeof data.version !== 'undefined' && parseInt(data.version.split('.')[0]);\n            const allowedSDKVersion = typeof majorVersionNumber === 'number' && majorVersionNumber >= 1;\n            let validOrigin = true;\n            if (Array.isArray(this.allowedOrigins)) {\n                validOrigin = this.allowedOrigins.find((regExp) => regExp.test(origin)) !== undefined;\n            }\n            return !emptyOrMalformed && sentFromParentEl && allowedSDKVersion && validOrigin;\n        };\n        this.logIncomingMessage = (msg) => {\n            console.info(`Safe Apps SDK v1: A message was received from origin ${msg.origin}. `, msg.data);\n        };\n        this.onParentMessage = (msg) => {\n            if (this.isValidMessage(msg)) {\n                this.debugMode && this.logIncomingMessage(msg);\n                this.handleIncomingMessage(msg.data);\n            }\n        };\n        this.handleIncomingMessage = (payload) => {\n            const { id } = payload;\n            const cb = this.callbacks.get(id);\n            if (cb) {\n                cb(payload);\n                this.callbacks.delete(id);\n            }\n        };\n        this.send = (method, params) => {\n            const request = MessageFormatter.makeRequest(method, params);\n            if (this.isServer) {\n                throw new Error(\"Window doesn't exist\");\n            }\n            window.parent.postMessage(request, '*');\n            return new Promise((resolve, reject) => {\n                this.callbacks.set(request.id, (response) => {\n                    if (!response.success) {\n                        reject(new Error(response.error));\n                        return;\n                    }\n                    resolve(response);\n                });\n            });\n        };\n        this.allowedOrigins = allowedOrigins;\n        this.debugMode = debugMode;\n        if (!this.isServer) {\n            window.addEventListener('message', this.onParentMessage);\n        }\n    }\n}\nexport default PostMessageCommunicator;\nexport * from './methods.js';\n//# sourceMappingURL=index.js.map","export const isObjectEIP712TypedData = (obj) => {\n    return typeof obj === 'object' && obj != null && 'domain' in obj && 'types' in obj && 'message' in obj;\n};\n//# sourceMappingURL=sdk.js.map","var global = typeof self !== 'undefined' ? self : this;\nvar __self__ = (function () {\nfunction F() {\nthis.fetch = false;\nthis.DOMException = global.DOMException\n}\nF.prototype = global;\nreturn new F();\n})();\n(function(self) {\n\nvar irrelevant = (function (exports) {\n\n  var support = {\n    searchParams: 'URLSearchParams' in self,\n    iterable: 'Symbol' in self && 'iterator' in Symbol,\n    blob:\n      'FileReader' in self &&\n      'Blob' in self &&\n      (function() {\n        try {\n          new Blob();\n          return true\n        } catch (e) {\n          return false\n        }\n      })(),\n    formData: 'FormData' in self,\n    arrayBuffer: 'ArrayBuffer' in self\n  };\n\n  function isDataView(obj) {\n    return obj && DataView.prototype.isPrototypeOf(obj)\n  }\n\n  if (support.arrayBuffer) {\n    var viewClasses = [\n      '[object Int8Array]',\n      '[object Uint8Array]',\n      '[object Uint8ClampedArray]',\n      '[object Int16Array]',\n      '[object Uint16Array]',\n      '[object Int32Array]',\n      '[object Uint32Array]',\n      '[object Float32Array]',\n      '[object Float64Array]'\n    ];\n\n    var isArrayBufferView =\n      ArrayBuffer.isView ||\n      function(obj) {\n        return obj && viewClasses.indexOf(Object.prototype.toString.call(obj)) > -1\n      };\n  }\n\n  function normalizeName(name) {\n    if (typeof name !== 'string') {\n      name = String(name);\n    }\n    if (/[^a-z0-9\\-#$%&'*+.^_`|~]/i.test(name)) {\n      throw new TypeError('Invalid character in header field name')\n    }\n    return name.toLowerCase()\n  }\n\n  function normalizeValue(value) {\n    if (typeof value !== 'string') {\n      value = String(value);\n    }\n    return value\n  }\n\n  // Build a destructive iterator for the value list\n  function iteratorFor(items) {\n    var iterator = {\n      next: function() {\n        var value = items.shift();\n        return {done: value === undefined, value: value}\n      }\n    };\n\n    if (support.iterable) {\n      iterator[Symbol.iterator] = function() {\n        return iterator\n      };\n    }\n\n    return iterator\n  }\n\n  function Headers(headers) {\n    this.map = {};\n\n    if (headers instanceof Headers) {\n      headers.forEach(function(value, name) {\n        this.append(name, value);\n      }, this);\n    } else if (Array.isArray(headers)) {\n      headers.forEach(function(header) {\n        this.append(header[0], header[1]);\n      }, this);\n    } else if (headers) {\n      Object.getOwnPropertyNames(headers).forEach(function(name) {\n        this.append(name, headers[name]);\n      }, this);\n    }\n  }\n\n  Headers.prototype.append = function(name, value) {\n    name = normalizeName(name);\n    value = normalizeValue(value);\n    var oldValue = this.map[name];\n    this.map[name] = oldValue ? oldValue + ', ' + value : value;\n  };\n\n  Headers.prototype['delete'] = function(name) {\n    delete this.map[normalizeName(name)];\n  };\n\n  Headers.prototype.get = function(name) {\n    name = normalizeName(name);\n    return this.has(name) ? this.map[name] : null\n  };\n\n  Headers.prototype.has = function(name) {\n    return this.map.hasOwnProperty(normalizeName(name))\n  };\n\n  Headers.prototype.set = function(name, value) {\n    this.map[normalizeName(name)] = normalizeValue(value);\n  };\n\n  Headers.prototype.forEach = function(callback, thisArg) {\n    for (var name in this.map) {\n      if (this.map.hasOwnProperty(name)) {\n        callback.call(thisArg, this.map[name], name, this);\n      }\n    }\n  };\n\n  Headers.prototype.keys = function() {\n    var items = [];\n    this.forEach(function(value, name) {\n      items.push(name);\n    });\n    return iteratorFor(items)\n  };\n\n  Headers.prototype.values = function() {\n    var items = [];\n    this.forEach(function(value) {\n      items.push(value);\n    });\n    return iteratorFor(items)\n  };\n\n  Headers.prototype.entries = function() {\n    var items = [];\n    this.forEach(function(value, name) {\n      items.push([name, value]);\n    });\n    return iteratorFor(items)\n  };\n\n  if (support.iterable) {\n    Headers.prototype[Symbol.iterator] = Headers.prototype.entries;\n  }\n\n  function consumed(body) {\n    if (body.bodyUsed) {\n      return Promise.reject(new TypeError('Already read'))\n    }\n    body.bodyUsed = true;\n  }\n\n  function fileReaderReady(reader) {\n    return new Promise(function(resolve, reject) {\n      reader.onload = function() {\n        resolve(reader.result);\n      };\n      reader.onerror = function() {\n        reject(reader.error);\n      };\n    })\n  }\n\n  function readBlobAsArrayBuffer(blob) {\n    var reader = new FileReader();\n    var promise = fileReaderReady(reader);\n    reader.readAsArrayBuffer(blob);\n    return promise\n  }\n\n  function readBlobAsText(blob) {\n    var reader = new FileReader();\n    var promise = fileReaderReady(reader);\n    reader.readAsText(blob);\n    return promise\n  }\n\n  function readArrayBufferAsText(buf) {\n    var view = new Uint8Array(buf);\n    var chars = new Array(view.length);\n\n    for (var i = 0; i < view.length; i++) {\n      chars[i] = String.fromCharCode(view[i]);\n    }\n    return chars.join('')\n  }\n\n  function bufferClone(buf) {\n    if (buf.slice) {\n      return buf.slice(0)\n    } else {\n      var view = new Uint8Array(buf.byteLength);\n      view.set(new Uint8Array(buf));\n      return view.buffer\n    }\n  }\n\n  function Body() {\n    this.bodyUsed = false;\n\n    this._initBody = function(body) {\n      this._bodyInit = body;\n      if (!body) {\n        this._bodyText = '';\n      } else if (typeof body === 'string') {\n        this._bodyText = body;\n      } else if (support.blob && Blob.prototype.isPrototypeOf(body)) {\n        this._bodyBlob = body;\n      } else if (support.formData && FormData.prototype.isPrototypeOf(body)) {\n        this._bodyFormData = body;\n      } else if (support.searchParams && URLSearchParams.prototype.isPrototypeOf(body)) {\n        this._bodyText = body.toString();\n      } else if (support.arrayBuffer && support.blob && isDataView(body)) {\n        this._bodyArrayBuffer = bufferClone(body.buffer);\n        // IE 10-11 can't handle a DataView body.\n        this._bodyInit = new Blob([this._bodyArrayBuffer]);\n      } else if (support.arrayBuffer && (ArrayBuffer.prototype.isPrototypeOf(body) || isArrayBufferView(body))) {\n        this._bodyArrayBuffer = bufferClone(body);\n      } else {\n        this._bodyText = body = Object.prototype.toString.call(body);\n      }\n\n      if (!this.headers.get('content-type')) {\n        if (typeof body === 'string') {\n          this.headers.set('content-type', 'text/plain;charset=UTF-8');\n        } else if (this._bodyBlob && this._bodyBlob.type) {\n          this.headers.set('content-type', this._bodyBlob.type);\n        } else if (support.searchParams && URLSearchParams.prototype.isPrototypeOf(body)) {\n          this.headers.set('content-type', 'application/x-www-form-urlencoded;charset=UTF-8');\n        }\n      }\n    };\n\n    if (support.blob) {\n      this.blob = function() {\n        var rejected = consumed(this);\n        if (rejected) {\n          return rejected\n        }\n\n        if (this._bodyBlob) {\n          return Promise.resolve(this._bodyBlob)\n        } else if (this._bodyArrayBuffer) {\n          return Promise.resolve(new Blob([this._bodyArrayBuffer]))\n        } else if (this._bodyFormData) {\n          throw new Error('could not read FormData body as blob')\n        } else {\n          return Promise.resolve(new Blob([this._bodyText]))\n        }\n      };\n\n      this.arrayBuffer = function() {\n        if (this._bodyArrayBuffer) {\n          return consumed(this) || Promise.resolve(this._bodyArrayBuffer)\n        } else {\n          return this.blob().then(readBlobAsArrayBuffer)\n        }\n      };\n    }\n\n    this.text = function() {\n      var rejected = consumed(this);\n      if (rejected) {\n        return rejected\n      }\n\n      if (this._bodyBlob) {\n        return readBlobAsText(this._bodyBlob)\n      } else if (this._bodyArrayBuffer) {\n        return Promise.resolve(readArrayBufferAsText(this._bodyArrayBuffer))\n      } else if (this._bodyFormData) {\n        throw new Error('could not read FormData body as text')\n      } else {\n        return Promise.resolve(this._bodyText)\n      }\n    };\n\n    if (support.formData) {\n      this.formData = function() {\n        return this.text().then(decode)\n      };\n    }\n\n    this.json = function() {\n      return this.text().then(JSON.parse)\n    };\n\n    return this\n  }\n\n  // HTTP methods whose capitalization should be normalized\n  var methods = ['DELETE', 'GET', 'HEAD', 'OPTIONS', 'POST', 'PUT'];\n\n  function normalizeMethod(method) {\n    var upcased = method.toUpperCase();\n    return methods.indexOf(upcased) > -1 ? upcased : method\n  }\n\n  function Request(input, options) {\n    options = options || {};\n    var body = options.body;\n\n    if (input instanceof Request) {\n      if (input.bodyUsed) {\n        throw new TypeError('Already read')\n      }\n      this.url = input.url;\n      this.credentials = input.credentials;\n      if (!options.headers) {\n        this.headers = new Headers(input.headers);\n      }\n      this.method = input.method;\n      this.mode = input.mode;\n      this.signal = input.signal;\n      if (!body && input._bodyInit != null) {\n        body = input._bodyInit;\n        input.bodyUsed = true;\n      }\n    } else {\n      this.url = String(input);\n    }\n\n    this.credentials = options.credentials || this.credentials || 'same-origin';\n    if (options.headers || !this.headers) {\n      this.headers = new Headers(options.headers);\n    }\n    this.method = normalizeMethod(options.method || this.method || 'GET');\n    this.mode = options.mode || this.mode || null;\n    this.signal = options.signal || this.signal;\n    this.referrer = null;\n\n    if ((this.method === 'GET' || this.method === 'HEAD') && body) {\n      throw new TypeError('Body not allowed for GET or HEAD requests')\n    }\n    this._initBody(body);\n  }\n\n  Request.prototype.clone = function() {\n    return new Request(this, {body: this._bodyInit})\n  };\n\n  function decode(body) {\n    var form = new FormData();\n    body\n      .trim()\n      .split('&')\n      .forEach(function(bytes) {\n        if (bytes) {\n          var split = bytes.split('=');\n          var name = split.shift().replace(/\\+/g, ' ');\n          var value = split.join('=').replace(/\\+/g, ' ');\n          form.append(decodeURIComponent(name), decodeURIComponent(value));\n        }\n      });\n    return form\n  }\n\n  function parseHeaders(rawHeaders) {\n    var headers = new Headers();\n    // Replace instances of \\r\\n and \\n followed by at least one space or horizontal tab with a space\n    // https://tools.ietf.org/html/rfc7230#section-3.2\n    var preProcessedHeaders = rawHeaders.replace(/\\r?\\n[\\t ]+/g, ' ');\n    preProcessedHeaders.split(/\\r?\\n/).forEach(function(line) {\n      var parts = line.split(':');\n      var key = parts.shift().trim();\n      if (key) {\n        var value = parts.join(':').trim();\n        headers.append(key, value);\n      }\n    });\n    return headers\n  }\n\n  Body.call(Request.prototype);\n\n  function Response(bodyInit, options) {\n    if (!options) {\n      options = {};\n    }\n\n    this.type = 'default';\n    this.status = options.status === undefined ? 200 : options.status;\n    this.ok = this.status >= 200 && this.status < 300;\n    this.statusText = 'statusText' in options ? options.statusText : 'OK';\n    this.headers = new Headers(options.headers);\n    this.url = options.url || '';\n    this._initBody(bodyInit);\n  }\n\n  Body.call(Response.prototype);\n\n  Response.prototype.clone = function() {\n    return new Response(this._bodyInit, {\n      status: this.status,\n      statusText: this.statusText,\n      headers: new Headers(this.headers),\n      url: this.url\n    })\n  };\n\n  Response.error = function() {\n    var response = new Response(null, {status: 0, statusText: ''});\n    response.type = 'error';\n    return response\n  };\n\n  var redirectStatuses = [301, 302, 303, 307, 308];\n\n  Response.redirect = function(url, status) {\n    if (redirectStatuses.indexOf(status) === -1) {\n      throw new RangeError('Invalid status code')\n    }\n\n    return new Response(null, {status: status, headers: {location: url}})\n  };\n\n  exports.DOMException = self.DOMException;\n  try {\n    new exports.DOMException();\n  } catch (err) {\n    exports.DOMException = function(message, name) {\n      this.message = message;\n      this.name = name;\n      var error = Error(message);\n      this.stack = error.stack;\n    };\n    exports.DOMException.prototype = Object.create(Error.prototype);\n    exports.DOMException.prototype.constructor = exports.DOMException;\n  }\n\n  function fetch(input, init) {\n    return new Promise(function(resolve, reject) {\n      var request = new Request(input, init);\n\n      if (request.signal && request.signal.aborted) {\n        return reject(new exports.DOMException('Aborted', 'AbortError'))\n      }\n\n      var xhr = new XMLHttpRequest();\n\n      function abortXhr() {\n        xhr.abort();\n      }\n\n      xhr.onload = function() {\n        var options = {\n          status: xhr.status,\n          statusText: xhr.statusText,\n          headers: parseHeaders(xhr.getAllResponseHeaders() || '')\n        };\n        options.url = 'responseURL' in xhr ? xhr.responseURL : options.headers.get('X-Request-URL');\n        var body = 'response' in xhr ? xhr.response : xhr.responseText;\n        resolve(new Response(body, options));\n      };\n\n      xhr.onerror = function() {\n        reject(new TypeError('Network request failed'));\n      };\n\n      xhr.ontimeout = function() {\n        reject(new TypeError('Network request failed'));\n      };\n\n      xhr.onabort = function() {\n        reject(new exports.DOMException('Aborted', 'AbortError'));\n      };\n\n      xhr.open(request.method, request.url, true);\n\n      if (request.credentials === 'include') {\n        xhr.withCredentials = true;\n      } else if (request.credentials === 'omit') {\n        xhr.withCredentials = false;\n      }\n\n      if ('responseType' in xhr && support.blob) {\n        xhr.responseType = 'blob';\n      }\n\n      request.headers.forEach(function(value, name) {\n        xhr.setRequestHeader(name, value);\n      });\n\n      if (request.signal) {\n        request.signal.addEventListener('abort', abortXhr);\n\n        xhr.onreadystatechange = function() {\n          // DONE (success or failure)\n          if (xhr.readyState === 4) {\n            request.signal.removeEventListener('abort', abortXhr);\n          }\n        };\n      }\n\n      xhr.send(typeof request._bodyInit === 'undefined' ? null : request._bodyInit);\n    })\n  }\n\n  fetch.polyfill = true;\n\n  if (!self.fetch) {\n    self.fetch = fetch;\n    self.Headers = Headers;\n    self.Request = Request;\n    self.Response = Response;\n  }\n\n  exports.Headers = Headers;\n  exports.Request = Request;\n  exports.Response = Response;\n  exports.fetch = fetch;\n\n  Object.defineProperty(exports, '__esModule', { value: true });\n\n  return exports;\n\n})({});\n})(__self__);\n__self__.fetch.ponyfill = true;\n// Remove \"polyfill\" property added by whatwg-fetch\ndelete __self__.fetch.polyfill;\n// Choose between native implementation (global) or custom implementation (__self__)\n// var ctx = global.fetch ? global : __self__;\nvar ctx = __self__; // this line disable service worker support temporarily\nexports = ctx.fetch // To enable: import fetch from 'cross-fetch'\nexports.default = ctx.fetch // For TypeScript consumers without esModuleInterop.\nexports.fetch = ctx.fetch // To enable: import {fetch} from 'cross-fetch'\nexports.Headers = ctx.Headers\nexports.Request = ctx.Request\nexports.Response = ctx.Response\nmodule.exports = exports\n","\"use strict\";\nvar __awaiter = (this && this.__awaiter) || function (thisArg, _arguments, P, generator) {\n    function adopt(value) { return value instanceof P ? value : new P(function (resolve) { resolve(value); }); }\n    return new (P || (P = Promise))(function (resolve, reject) {\n        function fulfilled(value) { try { step(generator.next(value)); } catch (e) { reject(e); } }\n        function rejected(value) { try { step(generator[\"throw\"](value)); } catch (e) { reject(e); } }\n        function step(result) { result.done ? resolve(result.value) : adopt(result.value).then(fulfilled, rejected); }\n        step((generator = generator.apply(thisArg, _arguments || [])).next());\n    });\n};\nvar __importDefault = (this && this.__importDefault) || function (mod) {\n    return (mod && mod.__esModule) ? mod : { \"default\": mod };\n};\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.fetchData = exports.stringifyQuery = exports.insertParams = void 0;\nconst cross_fetch_1 = __importDefault(require(\"cross-fetch\"));\nconst isErrorResponse = (data) => {\n    const isObject = typeof data === 'object' && data !== null;\n    return isObject && 'code' in data && 'message' in data;\n};\nfunction replaceParam(str, key, value) {\n    return str.replace(new RegExp(`\\\\{${key}\\\\}`, 'g'), value);\n}\nfunction insertParams(template, params) {\n    return params\n        ? Object.keys(params).reduce((result, key) => {\n            return replaceParam(result, key, String(params[key]));\n        }, template)\n        : template;\n}\nexports.insertParams = insertParams;\nfunction stringifyQuery(query) {\n    if (!query) {\n        return '';\n    }\n    const searchParams = new URLSearchParams();\n    Object.keys(query).forEach((key) => {\n        if (query[key] != null) {\n            searchParams.append(key, String(query[key]));\n        }\n    });\n    const searchString = searchParams.toString();\n    return searchString ? `?${searchString}` : '';\n}\nexports.stringifyQuery = stringifyQuery;\nfunction fetchData(url, body) {\n    return __awaiter(this, void 0, void 0, function* () {\n        let options;\n        if (body != null) {\n            options = {\n                method: 'POST',\n                body: typeof body === 'string' ? body : JSON.stringify(body),\n                headers: { 'Content-Type': 'application/json' },\n            };\n        }\n        const resp = yield (0, cross_fetch_1.default)(url, options);\n        let json;\n        try {\n            json = yield resp.json();\n        }\n        catch (_a) {\n            if (resp.headers && resp.headers.get('content-length') !== '0') {\n                throw new Error(`Invalid response content: ${resp.statusText}`);\n            }\n        }\n        if (!resp.ok) {\n            const errTxt = isErrorResponse(json) ? `${json.code}: ${json.message}` : resp.statusText;\n            throw new Error(errTxt);\n        }\n        return json;\n    });\n}\nexports.fetchData = fetchData;\n//# sourceMappingURL=utils.js.map","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.getEndpoint = exports.postEndpoint = void 0;\nconst utils_1 = require(\"./utils\");\nfunction makeUrl(baseUrl, path, pathParams, query) {\n    const pathname = (0, utils_1.insertParams)(path, pathParams);\n    const search = (0, utils_1.stringifyQuery)(query);\n    return `${baseUrl}${pathname}${search}`;\n}\nfunction postEndpoint(baseUrl, path, params) {\n    const url = makeUrl(baseUrl, path, params === null || params === void 0 ? void 0 : params.path, params === null || params === void 0 ? void 0 : params.query);\n    return (0, utils_1.fetchData)(url, params === null || params === void 0 ? void 0 : params.body);\n}\nexports.postEndpoint = postEndpoint;\nfunction getEndpoint(baseUrl, path, params, rawUrl) {\n    if (rawUrl) {\n        return (0, utils_1.fetchData)(rawUrl);\n    }\n    const url = makeUrl(baseUrl, path, params === null || params === void 0 ? void 0 : params.path, params === null || params === void 0 ? void 0 : params.query);\n    return (0, utils_1.fetchData)(url);\n}\nexports.getEndpoint = getEndpoint;\n//# sourceMappingURL=endpoint.js.map","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.DEFAULT_BASE_URL = void 0;\nexports.DEFAULT_BASE_URL = 'https://safe-client.safe.global';\n//# sourceMappingURL=config.js.map","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.ImplementationVersionState = void 0;\nvar ImplementationVersionState;\n(function (ImplementationVersionState) {\n    ImplementationVersionState[\"UP_TO_DATE\"] = \"UP_TO_DATE\";\n    ImplementationVersionState[\"OUTDATED\"] = \"OUTDATED\";\n    ImplementationVersionState[\"UNKNOWN\"] = \"UNKNOWN\";\n})(ImplementationVersionState = exports.ImplementationVersionState || (exports.ImplementationVersionState = {}));\n//# sourceMappingURL=safe-info.js.map","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.SafeAppSocialPlatforms = exports.SafeAppFeatures = exports.SafeAppAccessPolicyTypes = void 0;\nvar SafeAppAccessPolicyTypes;\n(function (SafeAppAccessPolicyTypes) {\n    SafeAppAccessPolicyTypes[\"NoRestrictions\"] = \"NO_RESTRICTIONS\";\n    SafeAppAccessPolicyTypes[\"DomainAllowlist\"] = \"DOMAIN_ALLOWLIST\";\n})(SafeAppAccessPolicyTypes = exports.SafeAppAccessPolicyTypes || (exports.SafeAppAccessPolicyTypes = {}));\nvar SafeAppFeatures;\n(function (SafeAppFeatures) {\n    SafeAppFeatures[\"BATCHED_TRANSACTIONS\"] = \"BATCHED_TRANSACTIONS\";\n})(SafeAppFeatures = exports.SafeAppFeatures || (exports.SafeAppFeatures = {}));\nvar SafeAppSocialPlatforms;\n(function (SafeAppSocialPlatforms) {\n    SafeAppSocialPlatforms[\"TWITTER\"] = \"TWITTER\";\n    SafeAppSocialPlatforms[\"GITHUB\"] = \"GITHUB\";\n    SafeAppSocialPlatforms[\"DISCORD\"] = \"DISCORD\";\n})(SafeAppSocialPlatforms = exports.SafeAppSocialPlatforms || (exports.SafeAppSocialPlatforms = {}));\n//# sourceMappingURL=safe-apps.js.map","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.LabelValue = exports.DetailedExecutionInfoType = exports.TransactionListItemType = exports.ConflictType = exports.TransactionInfoType = exports.SettingsInfoType = exports.TransactionTokenType = exports.TransferDirection = exports.TransactionStatus = exports.Operation = void 0;\nvar Operation;\n(function (Operation) {\n    Operation[Operation[\"CALL\"] = 0] = \"CALL\";\n    Operation[Operation[\"DELEGATE\"] = 1] = \"DELEGATE\";\n})(Operation = exports.Operation || (exports.Operation = {}));\nvar TransactionStatus;\n(function (TransactionStatus) {\n    TransactionStatus[\"AWAITING_CONFIRMATIONS\"] = \"AWAITING_CONFIRMATIONS\";\n    TransactionStatus[\"AWAITING_EXECUTION\"] = \"AWAITING_EXECUTION\";\n    TransactionStatus[\"CANCELLED\"] = \"CANCELLED\";\n    TransactionStatus[\"FAILED\"] = \"FAILED\";\n    TransactionStatus[\"SUCCESS\"] = \"SUCCESS\";\n})(TransactionStatus = exports.TransactionStatus || (exports.TransactionStatus = {}));\nvar TransferDirection;\n(function (TransferDirection) {\n    TransferDirection[\"INCOMING\"] = \"INCOMING\";\n    TransferDirection[\"OUTGOING\"] = \"OUTGOING\";\n    TransferDirection[\"UNKNOWN\"] = \"UNKNOWN\";\n})(TransferDirection = exports.TransferDirection || (exports.TransferDirection = {}));\n// https://safe.global/safe-client-gateway/docs/routes/transactions/models/enum.TransferInfo.html\nvar TransactionTokenType;\n(function (TransactionTokenType) {\n    TransactionTokenType[\"ERC20\"] = \"ERC20\";\n    TransactionTokenType[\"ERC721\"] = \"ERC721\";\n    TransactionTokenType[\"NATIVE_COIN\"] = \"NATIVE_COIN\";\n})(TransactionTokenType = exports.TransactionTokenType || (exports.TransactionTokenType = {}));\nvar SettingsInfoType;\n(function (SettingsInfoType) {\n    SettingsInfoType[\"SET_FALLBACK_HANDLER\"] = \"SET_FALLBACK_HANDLER\";\n    SettingsInfoType[\"ADD_OWNER\"] = \"ADD_OWNER\";\n    SettingsInfoType[\"REMOVE_OWNER\"] = \"REMOVE_OWNER\";\n    SettingsInfoType[\"SWAP_OWNER\"] = \"SWAP_OWNER\";\n    SettingsInfoType[\"CHANGE_THRESHOLD\"] = \"CHANGE_THRESHOLD\";\n    SettingsInfoType[\"CHANGE_IMPLEMENTATION\"] = \"CHANGE_IMPLEMENTATION\";\n    SettingsInfoType[\"ENABLE_MODULE\"] = \"ENABLE_MODULE\";\n    SettingsInfoType[\"DISABLE_MODULE\"] = \"DISABLE_MODULE\";\n    SettingsInfoType[\"SET_GUARD\"] = \"SET_GUARD\";\n    SettingsInfoType[\"DELETE_GUARD\"] = \"DELETE_GUARD\";\n})(SettingsInfoType = exports.SettingsInfoType || (exports.SettingsInfoType = {}));\n// https://safe.global/safe-client-gateway/docs/routes/transactions/models/enum.TransactionInfo.html\nvar TransactionInfoType;\n(function (TransactionInfoType) {\n    TransactionInfoType[\"TRANSFER\"] = \"Transfer\";\n    TransactionInfoType[\"SETTINGS_CHANGE\"] = \"SettingsChange\";\n    TransactionInfoType[\"CUSTOM\"] = \"Custom\";\n    TransactionInfoType[\"CREATION\"] = \"Creation\";\n})(TransactionInfoType = exports.TransactionInfoType || (exports.TransactionInfoType = {}));\n// https://safe.global/safe-client-gateway/docs/routes/transactions/models/summary/enum.ConflictType.html\nvar ConflictType;\n(function (ConflictType) {\n    ConflictType[\"NONE\"] = \"None\";\n    ConflictType[\"HAS_NEXT\"] = \"HasNext\";\n    ConflictType[\"END\"] = \"End\";\n})(ConflictType = exports.ConflictType || (exports.ConflictType = {}));\n// https://safe.global/safe-client-gateway/docs/routes/transactions/models/summary/enum.TransactionListItem.html\nvar TransactionListItemType;\n(function (TransactionListItemType) {\n    TransactionListItemType[\"TRANSACTION\"] = \"TRANSACTION\";\n    TransactionListItemType[\"LABEL\"] = \"LABEL\";\n    TransactionListItemType[\"CONFLICT_HEADER\"] = \"CONFLICT_HEADER\";\n    TransactionListItemType[\"DATE_LABEL\"] = \"DATE_LABEL\";\n})(TransactionListItemType = exports.TransactionListItemType || (exports.TransactionListItemType = {}));\n// https://safe.global/safe-client-gateway/docs/routes/transactions/models/details/enum.DetailedExecutionInfo.html\nvar DetailedExecutionInfoType;\n(function (DetailedExecutionInfoType) {\n    DetailedExecutionInfoType[\"MULTISIG\"] = \"MULTISIG\";\n    DetailedExecutionInfoType[\"MODULE\"] = \"MODULE\";\n})(DetailedExecutionInfoType = exports.DetailedExecutionInfoType || (exports.DetailedExecutionInfoType = {}));\n/**\n * @see https://gnosis.github.io/safe-client-gateway/docs/routes/transactions/models/summary/enum.Label.html\n */\nvar LabelValue;\n(function (LabelValue) {\n    LabelValue[\"Queued\"] = \"Queued\";\n    LabelValue[\"Next\"] = \"Next\";\n})(LabelValue = exports.LabelValue || (exports.LabelValue = {}));\n//# sourceMappingURL=transactions.js.map","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.FEATURES = exports.GAS_PRICE_TYPE = exports.RPC_AUTHENTICATION = void 0;\nvar RPC_AUTHENTICATION;\n(function (RPC_AUTHENTICATION) {\n    RPC_AUTHENTICATION[\"API_KEY_PATH\"] = \"API_KEY_PATH\";\n    RPC_AUTHENTICATION[\"NO_AUTHENTICATION\"] = \"NO_AUTHENTICATION\";\n    RPC_AUTHENTICATION[\"UNKNOWN\"] = \"UNKNOWN\";\n})(RPC_AUTHENTICATION = exports.RPC_AUTHENTICATION || (exports.RPC_AUTHENTICATION = {}));\nvar GAS_PRICE_TYPE;\n(function (GAS_PRICE_TYPE) {\n    GAS_PRICE_TYPE[\"ORACLE\"] = \"ORACLE\";\n    GAS_PRICE_TYPE[\"FIXED\"] = \"FIXED\";\n    GAS_PRICE_TYPE[\"UNKNOWN\"] = \"UNKNOWN\";\n})(GAS_PRICE_TYPE = exports.GAS_PRICE_TYPE || (exports.GAS_PRICE_TYPE = {}));\nvar FEATURES;\n(function (FEATURES) {\n    FEATURES[\"ERC721\"] = \"ERC721\";\n    FEATURES[\"SAFE_APPS\"] = \"SAFE_APPS\";\n    FEATURES[\"CONTRACT_INTERACTION\"] = \"CONTRACT_INTERACTION\";\n    FEATURES[\"DOMAIN_LOOKUP\"] = \"DOMAIN_LOOKUP\";\n    FEATURES[\"SPENDING_LIMIT\"] = \"SPENDING_LIMIT\";\n    FEATURES[\"EIP1559\"] = \"EIP1559\";\n    FEATURES[\"SAFE_TX_GAS_OPTIONAL\"] = \"SAFE_TX_GAS_OPTIONAL\";\n    FEATURES[\"TX_SIMULATION\"] = \"TX_SIMULATION\";\n    FEATURES[\"EIP1271\"] = \"EIP1271\";\n})(FEATURES = exports.FEATURES || (exports.FEATURES = {}));\n//# sourceMappingURL=chains.js.map","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.TokenType = void 0;\nvar TokenType;\n(function (TokenType) {\n    TokenType[\"ERC20\"] = \"ERC20\";\n    TokenType[\"ERC721\"] = \"ERC721\";\n    TokenType[\"NATIVE_TOKEN\"] = \"NATIVE_TOKEN\";\n})(TokenType = exports.TokenType || (exports.TokenType = {}));\n//# sourceMappingURL=common.js.map","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\n//# sourceMappingURL=master-copies.js.map","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\n//# sourceMappingURL=decoded-data.js.map","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.SafeMessageStatus = exports.SafeMessageListItemType = void 0;\nvar SafeMessageListItemType;\n(function (SafeMessageListItemType) {\n    SafeMessageListItemType[\"DATE_LABEL\"] = \"DATE_LABEL\";\n    SafeMessageListItemType[\"MESSAGE\"] = \"MESSAGE\";\n})(SafeMessageListItemType = exports.SafeMessageListItemType || (exports.SafeMessageListItemType = {}));\nvar SafeMessageStatus;\n(function (SafeMessageStatus) {\n    SafeMessageStatus[\"NEEDS_CONFIRMATION\"] = \"NEEDS_CONFIRMATION\";\n    SafeMessageStatus[\"CONFIRMED\"] = \"CONFIRMED\";\n})(SafeMessageStatus = exports.SafeMessageStatus || (exports.SafeMessageStatus = {}));\n//# sourceMappingURL=safe-messages.js.map","\"use strict\";\nvar __createBinding = (this && this.__createBinding) || (Object.create ? (function(o, m, k, k2) {\n    if (k2 === undefined) k2 = k;\n    var desc = Object.getOwnPropertyDescriptor(m, k);\n    if (!desc || (\"get\" in desc ? !m.__esModule : desc.writable || desc.configurable)) {\n      desc = { enumerable: true, get: function() { return m[k]; } };\n    }\n    Object.defineProperty(o, k2, desc);\n}) : (function(o, m, k, k2) {\n    if (k2 === undefined) k2 = k;\n    o[k2] = m[k];\n}));\nvar __exportStar = (this && this.__exportStar) || function(m, exports) {\n    for (var p in m) if (p !== \"default\" && !Object.prototype.hasOwnProperty.call(exports, p)) __createBinding(exports, m, p);\n};\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.confirmSafeMessage = exports.proposeSafeMessage = exports.getSafeMessage = exports.getSafeMessages = exports.getDecodedData = exports.getMasterCopies = exports.getSafeApps = exports.getChainConfig = exports.getChainsConfig = exports.proposeTransaction = exports.postSafeGasEstimation = exports.getTransactionDetails = exports.getTransactionQueue = exports.getTransactionHistory = exports.getCollectiblesPage = exports.getCollectibles = exports.getOwnedSafes = exports.getFiatCurrencies = exports.getBalances = exports.getMultisigTransactions = exports.getModuleTransactions = exports.getIncomingTransfers = exports.getSafeInfo = exports.setBaseUrl = void 0;\nconst endpoint_1 = require(\"./endpoint\");\nconst config_1 = require(\"./config\");\n__exportStar(require(\"./types/safe-info\"), exports);\n__exportStar(require(\"./types/safe-apps\"), exports);\n__exportStar(require(\"./types/transactions\"), exports);\n__exportStar(require(\"./types/chains\"), exports);\n__exportStar(require(\"./types/common\"), exports);\n__exportStar(require(\"./types/master-copies\"), exports);\n__exportStar(require(\"./types/decoded-data\"), exports);\n__exportStar(require(\"./types/safe-messages\"), exports);\n// Can be set externally to a different CGW host\nlet baseUrl = config_1.DEFAULT_BASE_URL;\n/**\n * Set the base CGW URL\n */\nconst setBaseUrl = (url) => {\n    baseUrl = url;\n};\nexports.setBaseUrl = setBaseUrl;\n/* eslint-disable @typescript-eslint/explicit-module-boundary-types */\n/**\n * Get basic information about a Safe. E.g. owners, modules, version etc\n */\nfunction getSafeInfo(chainId, address) {\n    return (0, endpoint_1.getEndpoint)(baseUrl, '/v1/chains/{chainId}/safes/{address}', { path: { chainId, address } });\n}\nexports.getSafeInfo = getSafeInfo;\n/**\n * Get filterable list of incoming transactions\n */\nfunction getIncomingTransfers(chainId, address, query, pageUrl) {\n    return (0, endpoint_1.getEndpoint)(baseUrl, '/v1/chains/{chainId}/safes/{address}/incoming-transfers/', {\n        path: { chainId, address },\n        query,\n    }, pageUrl);\n}\nexports.getIncomingTransfers = getIncomingTransfers;\n/**\n * Get filterable list of module transactions\n */\nfunction getModuleTransactions(chainId, address, query, pageUrl) {\n    return (0, endpoint_1.getEndpoint)(baseUrl, '/v1/chains/{chainId}/safes/{address}/module-transactions/', {\n        path: { chainId, address },\n        query,\n    }, pageUrl);\n}\nexports.getModuleTransactions = getModuleTransactions;\n/**\n * Get filterable list of multisig transactions\n */\nfunction getMultisigTransactions(chainId, address, query, pageUrl) {\n    return (0, endpoint_1.getEndpoint)(baseUrl, '/v1/chains/{chainId}/safes/{address}/multisig-transactions/', {\n        path: { chainId, address },\n        query,\n    }, pageUrl);\n}\nexports.getMultisigTransactions = getMultisigTransactions;\n/**\n * Get the total balance and all assets stored in a Safe\n */\nfunction getBalances(chainId, address, currency = 'usd', query = {}) {\n    return (0, endpoint_1.getEndpoint)(baseUrl, '/v1/chains/{chainId}/safes/{address}/balances/{currency}', {\n        path: { chainId, address, currency },\n        query,\n    });\n}\nexports.getBalances = getBalances;\n/**\n * Get a list of supported fiat currencies (e.g. USD, EUR etc)\n */\nfunction getFiatCurrencies() {\n    return (0, endpoint_1.getEndpoint)(baseUrl, '/v1/balances/supported-fiat-codes');\n}\nexports.getFiatCurrencies = getFiatCurrencies;\n/**\n * Get the addresses of all Safes belonging to an owner\n */\nfunction getOwnedSafes(chainId, address) {\n    return (0, endpoint_1.getEndpoint)(baseUrl, '/v1/chains/{chainId}/owners/{address}/safes', { path: { chainId, address } });\n}\nexports.getOwnedSafes = getOwnedSafes;\n/**\n * Get NFTs stored in a Safe\n */\nfunction getCollectibles(chainId, address, query = {}) {\n    return (0, endpoint_1.getEndpoint)(baseUrl, '/v1/chains/{chainId}/safes/{address}/collectibles', {\n        path: { chainId, address },\n        query,\n    });\n}\nexports.getCollectibles = getCollectibles;\n/**\n * Get NFTs stored in a Safe\n */\nfunction getCollectiblesPage(chainId, address, query = {}, pageUrl) {\n    return (0, endpoint_1.getEndpoint)(baseUrl, '/v2/chains/{chainId}/safes/{address}/collectibles', { path: { chainId, address }, query }, pageUrl);\n}\nexports.getCollectiblesPage = getCollectiblesPage;\n/**\n * Get a list of past Safe transactions\n */\nfunction getTransactionHistory(chainId, address, pageUrl) {\n    return (0, endpoint_1.getEndpoint)(baseUrl, '/v1/chains/{chainId}/safes/{safe_address}/transactions/history', { path: { chainId, safe_address: address }, query: {} }, pageUrl);\n}\nexports.getTransactionHistory = getTransactionHistory;\n/**\n * Get the list of pending transactions\n */\nfunction getTransactionQueue(chainId, address, pageUrl, trusted) {\n    return (0, endpoint_1.getEndpoint)(baseUrl, '/v1/chains/{chainId}/safes/{safe_address}/transactions/queued', { path: { chainId, safe_address: address }, query: { trusted } }, pageUrl);\n}\nexports.getTransactionQueue = getTransactionQueue;\n/**\n * Get the details of an individual transaction by its id\n */\nfunction getTransactionDetails(chainId, transactionId) {\n    return (0, endpoint_1.getEndpoint)(baseUrl, '/v1/chains/{chainId}/transactions/{transactionId}', {\n        path: { chainId, transactionId },\n    });\n}\nexports.getTransactionDetails = getTransactionDetails;\n/**\n * Request a gas estimate & recommmended tx nonce for a created transaction\n */\nfunction postSafeGasEstimation(chainId, address, body) {\n    return (0, endpoint_1.postEndpoint)(baseUrl, '/v2/chains/{chainId}/safes/{safe_address}/multisig-transactions/estimations', {\n        path: { chainId, safe_address: address },\n        body,\n    });\n}\nexports.postSafeGasEstimation = postSafeGasEstimation;\n/**\n * Propose a new transaction for other owners to sign/execute\n */\nfunction proposeTransaction(chainId, address, body) {\n    return (0, endpoint_1.postEndpoint)(baseUrl, '/v1/chains/{chainId}/transactions/{safe_address}/propose', {\n        path: { chainId, safe_address: address },\n        body,\n    });\n}\nexports.proposeTransaction = proposeTransaction;\n/**\n * Returns all defined chain configs\n */\nfunction getChainsConfig(query) {\n    return (0, endpoint_1.getEndpoint)(baseUrl, '/v1/chains', {\n        query,\n    });\n}\nexports.getChainsConfig = getChainsConfig;\n/**\n * Returns a chain config\n */\nfunction getChainConfig(chainId) {\n    return (0, endpoint_1.getEndpoint)(baseUrl, '/v1/chains/{chainId}', {\n        path: { chainId: chainId },\n    });\n}\nexports.getChainConfig = getChainConfig;\n/**\n * Returns Safe Apps List\n */\nfunction getSafeApps(chainId, query = {}) {\n    return (0, endpoint_1.getEndpoint)(baseUrl, '/v1/chains/{chainId}/safe-apps', {\n        path: { chainId: chainId },\n        query,\n    });\n}\nexports.getSafeApps = getSafeApps;\n/**\n * Returns list of Master Copies\n */\nfunction getMasterCopies(chainId) {\n    return (0, endpoint_1.getEndpoint)(baseUrl, '/v1/chains/{chainId}/about/master-copies', {\n        path: { chainId: chainId },\n    });\n}\nexports.getMasterCopies = getMasterCopies;\n/**\n * Returns decoded data\n */\nfunction getDecodedData(chainId, encodedData) {\n    return (0, endpoint_1.postEndpoint)(baseUrl, '/v1/chains/{chainId}/data-decoder', {\n        path: { chainId: chainId },\n        body: { data: encodedData },\n    });\n}\nexports.getDecodedData = getDecodedData;\n/**\n * Returns list of `SafeMessage`s\n */\nfunction getSafeMessages(chainId, address, pageUrl) {\n    return (0, endpoint_1.getEndpoint)(baseUrl, '/v1/chains/{chainId}/safes/{safe_address}/messages', { path: { chainId, safe_address: address }, query: {} }, pageUrl);\n}\nexports.getSafeMessages = getSafeMessages;\n/**\n * Returns a `SafeMessage`\n */\nfunction getSafeMessage(chainId, messageHash) {\n    return (0, endpoint_1.getEndpoint)(baseUrl, '/v1/chains/{chainId}/messages/{message_hash}', {\n        path: { chainId, message_hash: messageHash },\n    });\n}\nexports.getSafeMessage = getSafeMessage;\n/**\n * Propose a new `SafeMessage` for other owners to sign\n */\nfunction proposeSafeMessage(chainId, address, body) {\n    return (0, endpoint_1.postEndpoint)(baseUrl, '/v1/chains/{chainId}/safes/{safe_address}/messages', {\n        path: { chainId, safe_address: address },\n        body,\n    });\n}\nexports.proposeSafeMessage = proposeSafeMessage;\n/**\n * Add a confirmation to a `SafeMessage`\n */\nfunction confirmSafeMessage(chainId, messageHash, body) {\n    return (0, endpoint_1.postEndpoint)(baseUrl, '/v1/chains/{chainId}/messages/{message_hash}/signatures', {\n        path: { chainId, message_hash: messageHash },\n        body,\n    });\n}\nexports.confirmSafeMessage = confirmSafeMessage;\n/* eslint-enable @typescript-eslint/explicit-module-boundary-types */\n//# sourceMappingURL=index.js.map","import { Methods } from '../communication/methods.js';\nimport { isObjectEIP712TypedData, } from '../types/index.js';\nclass TXs {\n    constructor(communicator) {\n        this.communicator = communicator;\n    }\n    async getBySafeTxHash(safeTxHash) {\n        if (!safeTxHash) {\n            throw new Error('Invalid safeTxHash');\n        }\n        const response = await this.communicator.send(Methods.getTxBySafeTxHash, { safeTxHash });\n        return response.data;\n    }\n    async signMessage(message) {\n        const messagePayload = {\n            message,\n        };\n        const response = await this.communicator.send(Methods.signMessage, messagePayload);\n        return response.data;\n    }\n    async signTypedMessage(typedData) {\n        if (!isObjectEIP712TypedData(typedData)) {\n            throw new Error('Invalid typed data');\n        }\n        const response = await this.communicator.send(Methods.signTypedMessage, { typedData });\n        return response.data;\n    }\n    async send({ txs, params }) {\n        if (!txs || !txs.length) {\n            throw new Error('No transactions were passed');\n        }\n        const messagePayload = {\n            txs,\n            params,\n        };\n        const response = await this.communicator.send(Methods.sendTransactions, messagePayload);\n        return response.data;\n    }\n}\nexport { TXs };\n//# sourceMappingURL=index.js.map","export const RPC_CALLS = {\n    eth_call: 'eth_call',\n    eth_gasPrice: 'eth_gasPrice',\n    eth_getLogs: 'eth_getLogs',\n    eth_getBalance: 'eth_getBalance',\n    eth_getCode: 'eth_getCode',\n    eth_getBlockByHash: 'eth_getBlockByHash',\n    eth_getBlockByNumber: 'eth_getBlockByNumber',\n    eth_getStorageAt: 'eth_getStorageAt',\n    eth_getTransactionByHash: 'eth_getTransactionByHash',\n    eth_getTransactionReceipt: 'eth_getTransactionReceipt',\n    eth_getTransactionCount: 'eth_getTransactionCount',\n    eth_estimateGas: 'eth_estimateGas',\n    safe_setSettings: 'safe_setSettings',\n};\n//# sourceMappingURL=constants.js.map","import { RPC_CALLS } from '../eth/constants.js';\nimport { Methods } from '../communication/methods.js';\nconst inputFormatters = {\n    defaultBlockParam: (arg = 'latest') => arg,\n    returnFullTxObjectParam: (arg = false) => arg,\n    blockNumberToHex: (arg) => Number.isInteger(arg) ? `0x${arg.toString(16)}` : arg,\n};\nclass Eth {\n    constructor(communicator) {\n        this.communicator = communicator;\n        this.call = this.buildRequest({\n            call: RPC_CALLS.eth_call,\n            formatters: [null, inputFormatters.defaultBlockParam],\n        });\n        this.getBalance = this.buildRequest({\n            call: RPC_CALLS.eth_getBalance,\n            formatters: [null, inputFormatters.defaultBlockParam],\n        });\n        this.getCode = this.buildRequest({\n            call: RPC_CALLS.eth_getCode,\n            formatters: [null, inputFormatters.defaultBlockParam],\n        });\n        this.getStorageAt = this.buildRequest({\n            call: RPC_CALLS.eth_getStorageAt,\n            formatters: [null, inputFormatters.blockNumberToHex, inputFormatters.defaultBlockParam],\n        });\n        this.getPastLogs = this.buildRequest({\n            call: RPC_CALLS.eth_getLogs,\n        });\n        this.getBlockByHash = this.buildRequest({\n            call: RPC_CALLS.eth_getBlockByHash,\n            formatters: [null, inputFormatters.returnFullTxObjectParam],\n        });\n        this.getBlockByNumber = this.buildRequest({\n            call: RPC_CALLS.eth_getBlockByNumber,\n            formatters: [inputFormatters.blockNumberToHex, inputFormatters.returnFullTxObjectParam],\n        });\n        this.getTransactionByHash = this.buildRequest({\n            call: RPC_CALLS.eth_getTransactionByHash,\n        });\n        this.getTransactionReceipt = this.buildRequest({\n            call: RPC_CALLS.eth_getTransactionReceipt,\n        });\n        this.getTransactionCount = this.buildRequest({\n            call: RPC_CALLS.eth_getTransactionCount,\n            formatters: [null, inputFormatters.defaultBlockParam],\n        });\n        this.getGasPrice = this.buildRequest({\n            call: RPC_CALLS.eth_gasPrice,\n        });\n        this.getEstimateGas = (transaction) => this.buildRequest({\n            call: RPC_CALLS.eth_estimateGas,\n        })([transaction]);\n        this.setSafeSettings = this.buildRequest({\n            call: RPC_CALLS.safe_setSettings,\n        });\n    }\n    buildRequest(args) {\n        const { call, formatters } = args;\n        return async (params) => {\n            if (formatters && Array.isArray(params)) {\n                formatters.forEach((formatter, i) => {\n                    if (formatter) {\n                        params[i] = formatter(params[i]);\n                    }\n                });\n            }\n            const payload = {\n                call,\n                params: params || [],\n            };\n            const response = await this.communicator.send(Methods.rpcCall, payload);\n            return response.data;\n        };\n    }\n}\nexport { Eth };\n//# sourceMappingURL=index.js.map","// TODO: This looks cool. Need to check the performance of `new RegExp` versus defined inline though.\n// https://twitter.com/GabrielVergnaud/status/1622906834343366657\nexport function execTyped(regex, string) {\n    const match = regex.exec(string);\n    return match?.groups;\n}\n// `bytes<M>`: binary type of `M` bytes, `0 < M <= 32`\n// https://regexr.com/6va55\nexport const bytesRegex = /^bytes([1-9]|1[0-9]|2[0-9]|3[0-2])?$/;\n// `(u)int<M>`: (un)signed integer type of `M` bits, `0 < M <= 256`, `M % 8 == 0`\n// https://regexr.com/6v8hp\nexport const integerRegex = /^u?int(8|16|24|32|40|48|56|64|72|80|88|96|104|112|120|128|136|144|152|160|168|176|184|192|200|208|216|224|232|240|248|256)?$/;\nexport const isTupleRegex = /^\\(.+?\\).*?$/;\n//# sourceMappingURL=regex.js.map","import { execTyped } from '../regex.js';\n// https://regexr.com/7f7rv\nconst tupleRegex = /^tuple(?<array>(\\[(\\d*)\\])*)$/;\n/**\n * Formats {@link AbiParameter} to human-readable ABI parameter.\n *\n * @param abiParameter - ABI parameter\n * @returns Human-readable ABI parameter\n *\n * @example\n * const result = formatAbiParameter({ type: 'address', name: 'from' })\n * //    ^? const result: 'address from'\n */\nexport function formatAbiParameter(abiParameter) {\n    let type = abiParameter.type;\n    if (tupleRegex.test(abiParameter.type) && 'components' in abiParameter) {\n        type = '(';\n        const length = abiParameter.components.length;\n        for (let i = 0; i < length; i++) {\n            const component = abiParameter.components[i];\n            type += formatAbiParameter(component);\n            if (i < length - 1)\n                type += ', ';\n        }\n        const result = execTyped(tupleRegex, abiParameter.type);\n        type += `)${result?.array ?? ''}`;\n        return formatAbiParameter({\n            ...abiParameter,\n            type,\n        });\n    }\n    // Add `indexed` to type if in `abiParameter`\n    if ('indexed' in abiParameter && abiParameter.indexed)\n        type = `${type} indexed`;\n    // Return human-readable ABI parameter\n    if (abiParameter.name)\n        return `${type} ${abiParameter.name}`;\n    return type;\n}\n//# sourceMappingURL=formatAbiParameter.js.map","import { formatAbiParameter, } from './formatAbiParameter.js';\n/**\n * Formats {@link AbiParameter}s to human-readable ABI parameters.\n *\n * @param abiParameters - ABI parameters\n * @returns Human-readable ABI parameters\n *\n * @example\n * const result = formatAbiParameters([\n *   //  ^? const result: 'address from, uint256 tokenId'\n *   { type: 'address', name: 'from' },\n *   { type: 'uint256', name: 'tokenId' },\n * ])\n */\nexport function formatAbiParameters(abiParameters) {\n    let params = '';\n    const length = abiParameters.length;\n    for (let i = 0; i < length; i++) {\n        const abiParameter = abiParameters[i];\n        params += formatAbiParameter(abiParameter);\n        if (i !== length - 1)\n            params += ', ';\n    }\n    return params;\n}\n//# sourceMappingURL=formatAbiParameters.js.map","import { formatAbiParameters, } from './formatAbiParameters.js';\n/**\n * Formats ABI item (e.g. error, event, function) into human-readable ABI item\n *\n * @param abiItem - ABI item\n * @returns Human-readable ABI item\n */\nexport function formatAbiItem(abiItem) {\n    if (abiItem.type === 'function')\n        return `function ${abiItem.name}(${formatAbiParameters(abiItem.inputs)})${abiItem.stateMutability && abiItem.stateMutability !== 'nonpayable'\n            ? ` ${abiItem.stateMutability}`\n            : ''}${abiItem.outputs.length\n            ? ` returns (${formatAbiParameters(abiItem.outputs)})`\n            : ''}`;\n    if (abiItem.type === 'event')\n        return `event ${abiItem.name}(${formatAbiParameters(abiItem.inputs)})`;\n    if (abiItem.type === 'error')\n        return `error ${abiItem.name}(${formatAbiParameters(abiItem.inputs)})`;\n    if (abiItem.type === 'constructor')\n        return `constructor(${formatAbiParameters(abiItem.inputs)})${abiItem.stateMutability === 'payable' ? ' payable' : ''}`;\n    if (abiItem.type === 'fallback')\n        return 'fallback()';\n    return 'receive() external payable';\n}\n//# sourceMappingURL=formatAbiItem.js.map","import { InvalidDefinitionTypeError, } from '../../errors/abi.js';\nexport function formatAbiItem(abiItem, { includeName = false } = {}) {\n    if (abiItem.type !== 'function' &&\n        abiItem.type !== 'event' &&\n        abiItem.type !== 'error')\n        throw new InvalidDefinitionTypeError(abiItem.type);\n    return `${abiItem.name}(${formatAbiParams(abiItem.inputs, { includeName })})`;\n}\nexport function formatAbiParams(params, { includeName = false } = {}) {\n    if (!params)\n        return '';\n    return params\n        .map((param) => formatAbiParam(param, { includeName }))\n        .join(includeName ? ', ' : ',');\n}\nfunction formatAbiParam(param, { includeName }) {\n    if (param.type.startsWith('tuple')) {\n        return `(${formatAbiParams(param.components, { includeName })})${param.type.slice('tuple'.length)}`;\n    }\n    return param.type + (includeName && param.name ? ` ${param.name}` : '');\n}\n//# sourceMappingURL=formatAbiItem.js.map","export function isHex(value, { strict = true } = {}) {\n    if (!value)\n        return false;\n    if (typeof value !== 'string')\n        return false;\n    return strict ? /^0x[0-9a-fA-F]*$/.test(value) : value.startsWith('0x');\n}\n//# sourceMappingURL=isHex.js.map","import { isHex } from './isHex.js';\n/**\n * @description Retrieves the size of the value (in bytes).\n *\n * @param value The value (hex or byte array) to retrieve the size of.\n * @returns The size of the value (in bytes).\n */\nexport function size(value) {\n    if (isHex(value, { strict: false }))\n        return Math.ceil((value.length - 2) / 2);\n    return value.length;\n}\n//# sourceMappingURL=size.js.map","export const version = '2.19.2';\n//# sourceMappingURL=version.js.map","import { version } from './version.js';\nlet errorConfig = {\n    getDocsUrl: ({ docsBaseUrl, docsPath = '', docsSlug, }) => docsPath\n        ? `${docsBaseUrl ?? 'https://viem.sh'}${docsPath}${docsSlug ? `#${docsSlug}` : ''}`\n        : undefined,\n    version,\n};\nexport function setErrorConfig(config) {\n    errorConfig = config;\n}\nexport class BaseError extends Error {\n    constructor(shortMessage, args = {}) {\n        const details = (() => {\n            if (args.cause instanceof BaseError)\n                return args.cause.details;\n            if (args.cause?.message)\n                return args.cause.message;\n            return args.details;\n        })();\n        const docsPath = (() => {\n            if (args.cause instanceof BaseError)\n                return args.cause.docsPath || args.docsPath;\n            return args.docsPath;\n        })();\n        const docsUrl = errorConfig.getDocsUrl?.({ ...args, docsPath });\n        const message = [\n            shortMessage || 'An error occurred.',\n            '',\n            ...(args.metaMessages ? [...args.metaMessages, ''] : []),\n            ...(docsUrl ? [`Docs: ${docsUrl}`] : []),\n            ...(details ? [`Details: ${details}`] : []),\n            ...(errorConfig.version ? [`Version: ${errorConfig.version}`] : []),\n        ].join('\\n');\n        super(message, args.cause ? { cause: args.cause } : undefined);\n        Object.defineProperty(this, \"details\", {\n            enumerable: true,\n            configurable: true,\n            writable: true,\n            value: void 0\n        });\n        Object.defineProperty(this, \"docsPath\", {\n            enumerable: true,\n            configurable: true,\n            writable: true,\n            value: void 0\n        });\n        Object.defineProperty(this, \"metaMessages\", {\n            enumerable: true,\n            configurable: true,\n            writable: true,\n            value: void 0\n        });\n        Object.defineProperty(this, \"shortMessage\", {\n            enumerable: true,\n            configurable: true,\n            writable: true,\n            value: void 0\n        });\n        Object.defineProperty(this, \"version\", {\n            enumerable: true,\n            configurable: true,\n            writable: true,\n            value: void 0\n        });\n        Object.defineProperty(this, \"name\", {\n            enumerable: true,\n            configurable: true,\n            writable: true,\n            value: 'BaseError'\n        });\n        this.details = details;\n        this.docsPath = docsPath;\n        this.metaMessages = args.metaMessages;\n        this.name = args.name ?? this.name;\n        this.shortMessage = shortMessage;\n        this.version = version;\n    }\n    walk(fn) {\n        return walk(this, fn);\n    }\n}\nfunction walk(err, fn) {\n    if (fn?.(err))\n        return err;\n    if (err && typeof err === 'object' && 'cause' in err)\n        return walk(err.cause, fn);\n    return fn ? null : err;\n}\n//# sourceMappingURL=base.js.map","import { formatAbiItem, formatAbiParams } from '../utils/abi/formatAbiItem.js';\nimport { size } from '../utils/data/size.js';\nimport { BaseError } from './base.js';\nexport class AbiConstructorNotFoundError extends BaseError {\n    constructor({ docsPath }) {\n        super([\n            'A constructor was not found on the ABI.',\n            'Make sure you are using the correct ABI and that the constructor exists on it.',\n        ].join('\\n'), {\n            docsPath,\n            name: 'AbiConstructorNotFoundError',\n        });\n    }\n}\nexport class AbiConstructorParamsNotFoundError extends BaseError {\n    constructor({ docsPath }) {\n        super([\n            'Constructor arguments were provided (`args`), but a constructor parameters (`inputs`) were not found on the ABI.',\n            'Make sure you are using the correct ABI, and that the `inputs` attribute on the constructor exists.',\n        ].join('\\n'), {\n            docsPath,\n            name: 'AbiConstructorParamsNotFoundError',\n        });\n    }\n}\nexport class AbiDecodingDataSizeInvalidError extends BaseError {\n    constructor({ data, size }) {\n        super([\n            `Data size of ${size} bytes is invalid.`,\n            'Size must be in increments of 32 bytes (size % 32 === 0).',\n        ].join('\\n'), {\n            metaMessages: [`Data: ${data} (${size} bytes)`],\n            name: 'AbiDecodingDataSizeInvalidError',\n        });\n    }\n}\nexport class AbiDecodingDataSizeTooSmallError extends BaseError {\n    constructor({ data, params, size, }) {\n        super([`Data size of ${size} bytes is too small for given parameters.`].join('\\n'), {\n            metaMessages: [\n                `Params: (${formatAbiParams(params, { includeName: true })})`,\n                `Data:   ${data} (${size} bytes)`,\n            ],\n            name: 'AbiDecodingDataSizeTooSmallError',\n        });\n        Object.defineProperty(this, \"data\", {\n            enumerable: true,\n            configurable: true,\n            writable: true,\n            value: void 0\n        });\n        Object.defineProperty(this, \"params\", {\n            enumerable: true,\n            configurable: true,\n            writable: true,\n            value: void 0\n        });\n        Object.defineProperty(this, \"size\", {\n            enumerable: true,\n            configurable: true,\n            writable: true,\n            value: void 0\n        });\n        this.data = data;\n        this.params = params;\n        this.size = size;\n    }\n}\nexport class AbiDecodingZeroDataError extends BaseError {\n    constructor() {\n        super('Cannot decode zero data (\"0x\") with ABI parameters.', {\n            name: 'AbiDecodingZeroDataError',\n        });\n    }\n}\nexport class AbiEncodingArrayLengthMismatchError extends BaseError {\n    constructor({ expectedLength, givenLength, type, }) {\n        super([\n            `ABI encoding array length mismatch for type ${type}.`,\n            `Expected length: ${expectedLength}`,\n            `Given length: ${givenLength}`,\n        ].join('\\n'), { name: 'AbiEncodingArrayLengthMismatchError' });\n    }\n}\nexport class AbiEncodingBytesSizeMismatchError extends BaseError {\n    constructor({ expectedSize, value }) {\n        super(`Size of bytes \"${value}\" (bytes${size(value)}) does not match expected size (bytes${expectedSize}).`, { name: 'AbiEncodingBytesSizeMismatchError' });\n    }\n}\nexport class AbiEncodingLengthMismatchError extends BaseError {\n    constructor({ expectedLength, givenLength, }) {\n        super([\n            'ABI encoding params/values length mismatch.',\n            `Expected length (params): ${expectedLength}`,\n            `Given length (values): ${givenLength}`,\n        ].join('\\n'), { name: 'AbiEncodingLengthMismatchError' });\n    }\n}\nexport class AbiErrorInputsNotFoundError extends BaseError {\n    constructor(errorName, { docsPath }) {\n        super([\n            `Arguments (\\`args\\`) were provided to \"${errorName}\", but \"${errorName}\" on the ABI does not contain any parameters (\\`inputs\\`).`,\n            'Cannot encode error result without knowing what the parameter types are.',\n            'Make sure you are using the correct ABI and that the inputs exist on it.',\n        ].join('\\n'), {\n            docsPath,\n            name: 'AbiErrorInputsNotFoundError',\n        });\n    }\n}\nexport class AbiErrorNotFoundError extends BaseError {\n    constructor(errorName, { docsPath } = {}) {\n        super([\n            `Error ${errorName ? `\"${errorName}\" ` : ''}not found on ABI.`,\n            'Make sure you are using the correct ABI and that the error exists on it.',\n        ].join('\\n'), {\n            docsPath,\n            name: 'AbiErrorNotFoundError',\n        });\n    }\n}\nexport class AbiErrorSignatureNotFoundError extends BaseError {\n    constructor(signature, { docsPath }) {\n        super([\n            `Encoded error signature \"${signature}\" not found on ABI.`,\n            'Make sure you are using the correct ABI and that the error exists on it.',\n            `You can look up the decoded signature here: https://openchain.xyz/signatures?query=${signature}.`,\n        ].join('\\n'), {\n            docsPath,\n            name: 'AbiErrorSignatureNotFoundError',\n        });\n        Object.defineProperty(this, \"signature\", {\n            enumerable: true,\n            configurable: true,\n            writable: true,\n            value: void 0\n        });\n        this.signature = signature;\n    }\n}\nexport class AbiEventSignatureEmptyTopicsError extends BaseError {\n    constructor({ docsPath }) {\n        super('Cannot extract event signature from empty topics.', {\n            docsPath,\n            name: 'AbiEventSignatureEmptyTopicsError',\n        });\n    }\n}\nexport class AbiEventSignatureNotFoundError extends BaseError {\n    constructor(signature, { docsPath }) {\n        super([\n            `Encoded event signature \"${signature}\" not found on ABI.`,\n            'Make sure you are using the correct ABI and that the event exists on it.',\n            `You can look up the signature here: https://openchain.xyz/signatures?query=${signature}.`,\n        ].join('\\n'), {\n            docsPath,\n            name: 'AbiEventSignatureNotFoundError',\n        });\n    }\n}\nexport class AbiEventNotFoundError extends BaseError {\n    constructor(eventName, { docsPath } = {}) {\n        super([\n            `Event ${eventName ? `\"${eventName}\" ` : ''}not found on ABI.`,\n            'Make sure you are using the correct ABI and that the event exists on it.',\n        ].join('\\n'), {\n            docsPath,\n            name: 'AbiEventNotFoundError',\n        });\n    }\n}\nexport class AbiFunctionNotFoundError extends BaseError {\n    constructor(functionName, { docsPath } = {}) {\n        super([\n            `Function ${functionName ? `\"${functionName}\" ` : ''}not found on ABI.`,\n            'Make sure you are using the correct ABI and that the function exists on it.',\n        ].join('\\n'), {\n            docsPath,\n            name: 'AbiFunctionNotFoundError',\n        });\n    }\n}\nexport class AbiFunctionOutputsNotFoundError extends BaseError {\n    constructor(functionName, { docsPath }) {\n        super([\n            `Function \"${functionName}\" does not contain any \\`outputs\\` on ABI.`,\n            'Cannot decode function result without knowing what the parameter types are.',\n            'Make sure you are using the correct ABI and that the function exists on it.',\n        ].join('\\n'), {\n            docsPath,\n            name: 'AbiFunctionOutputsNotFoundError',\n        });\n    }\n}\nexport class AbiFunctionSignatureNotFoundError extends BaseError {\n    constructor(signature, { docsPath }) {\n        super([\n            `Encoded function signature \"${signature}\" not found on ABI.`,\n            'Make sure you are using the correct ABI and that the function exists on it.',\n            `You can look up the signature here: https://openchain.xyz/signatures?query=${signature}.`,\n        ].join('\\n'), {\n            docsPath,\n            name: 'AbiFunctionSignatureNotFoundError',\n        });\n    }\n}\nexport class AbiItemAmbiguityError extends BaseError {\n    constructor(x, y) {\n        super('Found ambiguous types in overloaded ABI items.', {\n            metaMessages: [\n                `\\`${x.type}\\` in \\`${formatAbiItem(x.abiItem)}\\`, and`,\n                `\\`${y.type}\\` in \\`${formatAbiItem(y.abiItem)}\\``,\n                '',\n                'These types encode differently and cannot be distinguished at runtime.',\n                'Remove one of the ambiguous items in the ABI.',\n            ],\n            name: 'AbiItemAmbiguityError',\n        });\n    }\n}\nexport class BytesSizeMismatchError extends BaseError {\n    constructor({ expectedSize, givenSize, }) {\n        super(`Expected bytes${expectedSize}, got bytes${givenSize}.`, {\n            name: 'BytesSizeMismatchError',\n        });\n    }\n}\nexport class DecodeLogDataMismatch extends BaseError {\n    constructor({ abiItem, data, params, size, }) {\n        super([\n            `Data size of ${size} bytes is too small for non-indexed event parameters.`,\n        ].join('\\n'), {\n            metaMessages: [\n                `Params: (${formatAbiParams(params, { includeName: true })})`,\n                `Data:   ${data} (${size} bytes)`,\n            ],\n            name: 'DecodeLogDataMismatch',\n        });\n        Object.defineProperty(this, \"abiItem\", {\n            enumerable: true,\n            configurable: true,\n            writable: true,\n            value: void 0\n        });\n        Object.defineProperty(this, \"data\", {\n            enumerable: true,\n            configurable: true,\n            writable: true,\n            value: void 0\n        });\n        Object.defineProperty(this, \"params\", {\n            enumerable: true,\n            configurable: true,\n            writable: true,\n            value: void 0\n        });\n        Object.defineProperty(this, \"size\", {\n            enumerable: true,\n            configurable: true,\n            writable: true,\n            value: void 0\n        });\n        this.abiItem = abiItem;\n        this.data = data;\n        this.params = params;\n        this.size = size;\n    }\n}\nexport class DecodeLogTopicsMismatch extends BaseError {\n    constructor({ abiItem, param, }) {\n        super([\n            `Expected a topic for indexed event parameter${param.name ? ` \"${param.name}\"` : ''} on event \"${formatAbiItem(abiItem, { includeName: true })}\".`,\n        ].join('\\n'), { name: 'DecodeLogTopicsMismatch' });\n        Object.defineProperty(this, \"abiItem\", {\n            enumerable: true,\n            configurable: true,\n            writable: true,\n            value: void 0\n        });\n        this.abiItem = abiItem;\n    }\n}\nexport class InvalidAbiEncodingTypeError extends BaseError {\n    constructor(type, { docsPath }) {\n        super([\n            `Type \"${type}\" is not a valid encoding type.`,\n            'Please provide a valid ABI type.',\n        ].join('\\n'), { docsPath, name: 'InvalidAbiEncodingType' });\n    }\n}\nexport class InvalidAbiDecodingTypeError extends BaseError {\n    constructor(type, { docsPath }) {\n        super([\n            `Type \"${type}\" is not a valid decoding type.`,\n            'Please provide a valid ABI type.',\n        ].join('\\n'), { docsPath, name: 'InvalidAbiDecodingType' });\n    }\n}\nexport class InvalidArrayError extends BaseError {\n    constructor(value) {\n        super([`Value \"${value}\" is not a valid array.`].join('\\n'), {\n            name: 'InvalidArrayError',\n        });\n    }\n}\nexport class InvalidDefinitionTypeError extends BaseError {\n    constructor(type) {\n        super([\n            `\"${type}\" is not a valid definition type.`,\n            'Valid types: \"function\", \"event\", \"error\"',\n        ].join('\\n'), { name: 'InvalidDefinitionTypeError' });\n    }\n}\nexport class UnsupportedPackedAbiType extends BaseError {\n    constructor(type) {\n        super(`Type \"${type}\" is not supported for packed encoding.`, {\n            name: 'UnsupportedPackedAbiType',\n        });\n    }\n}\n//# sourceMappingURL=abi.js.map","import { BaseError } from './base.js';\nexport class SliceOffsetOutOfBoundsError extends BaseError {\n    constructor({ offset, position, size, }) {\n        super(`Slice ${position === 'start' ? 'starting' : 'ending'} at offset \"${offset}\" is out-of-bounds (size: ${size}).`, { name: 'SliceOffsetOutOfBoundsError' });\n    }\n}\nexport class SizeExceedsPaddingSizeError extends BaseError {\n    constructor({ size, targetSize, type, }) {\n        super(`${type.charAt(0).toUpperCase()}${type\n            .slice(1)\n            .toLowerCase()} size (${size}) exceeds padding size (${targetSize}).`, { name: 'SizeExceedsPaddingSizeError' });\n    }\n}\nexport class InvalidBytesLengthError extends BaseError {\n    constructor({ size, targetSize, type, }) {\n        super(`${type.charAt(0).toUpperCase()}${type\n            .slice(1)\n            .toLowerCase()} is expected to be ${targetSize} ${type} long, but is ${size} ${type} long.`, { name: 'InvalidBytesLengthError' });\n    }\n}\n//# sourceMappingURL=data.js.map","import { SizeExceedsPaddingSizeError, } from '../../errors/data.js';\nexport function pad(hexOrBytes, { dir, size = 32 } = {}) {\n    if (typeof hexOrBytes === 'string')\n        return padHex(hexOrBytes, { dir, size });\n    return padBytes(hexOrBytes, { dir, size });\n}\nexport function padHex(hex_, { dir, size = 32 } = {}) {\n    if (size === null)\n        return hex_;\n    const hex = hex_.replace('0x', '');\n    if (hex.length > size * 2)\n        throw new SizeExceedsPaddingSizeError({\n            size: Math.ceil(hex.length / 2),\n            targetSize: size,\n            type: 'hex',\n        });\n    return `0x${hex[dir === 'right' ? 'padEnd' : 'padStart'](size * 2, '0')}`;\n}\nexport function padBytes(bytes, { dir, size = 32 } = {}) {\n    if (size === null)\n        return bytes;\n    if (bytes.length > size)\n        throw new SizeExceedsPaddingSizeError({\n            size: bytes.length,\n            targetSize: size,\n            type: 'bytes',\n        });\n    const paddedBytes = new Uint8Array(size);\n    for (let i = 0; i < size; i++) {\n        const padEnd = dir === 'right';\n        paddedBytes[padEnd ? i : size - i - 1] =\n            bytes[padEnd ? i : bytes.length - i - 1];\n    }\n    return paddedBytes;\n}\n//# sourceMappingURL=pad.js.map","import { BaseError } from './base.js';\nexport class IntegerOutOfRangeError extends BaseError {\n    constructor({ max, min, signed, size, value, }) {\n        super(`Number \"${value}\" is not in safe ${size ? `${size * 8}-bit ${signed ? 'signed' : 'unsigned'} ` : ''}integer range ${max ? `(${min} to ${max})` : `(above ${min})`}`, { name: 'IntegerOutOfRangeError' });\n    }\n}\nexport class InvalidBytesBooleanError extends BaseError {\n    constructor(bytes) {\n        super(`Bytes value \"${bytes}\" is not a valid boolean. The bytes array must contain a single byte of either a 0 or 1 value.`, {\n            name: 'InvalidBytesBooleanError',\n        });\n    }\n}\nexport class InvalidHexBooleanError extends BaseError {\n    constructor(hex) {\n        super(`Hex value \"${hex}\" is not a valid boolean. The hex value must be \"0x0\" (false) or \"0x1\" (true).`, { name: 'InvalidHexBooleanError' });\n    }\n}\nexport class InvalidHexValueError extends BaseError {\n    constructor(value) {\n        super(`Hex value \"${value}\" is an odd length (${value.length}). It must be an even length.`, { name: 'InvalidHexValueError' });\n    }\n}\nexport class SizeOverflowError extends BaseError {\n    constructor({ givenSize, maxSize }) {\n        super(`Size cannot exceed ${maxSize} bytes. Given size: ${givenSize} bytes.`, { name: 'SizeOverflowError' });\n    }\n}\n//# sourceMappingURL=encoding.js.map","import { InvalidHexBooleanError, SizeOverflowError, } from '../../errors/encoding.js';\nimport { size as size_ } from '../data/size.js';\nimport { trim } from '../data/trim.js';\nimport { hexToBytes } from './toBytes.js';\nexport function assertSize(hexOrBytes, { size }) {\n    if (size_(hexOrBytes) > size)\n        throw new SizeOverflowError({\n            givenSize: size_(hexOrBytes),\n            maxSize: size,\n        });\n}\n/**\n * Decodes a hex string into a string, number, bigint, boolean, or byte array.\n *\n * - Docs: https://viem.sh/docs/utilities/fromHex\n * - Example: https://viem.sh/docs/utilities/fromHex#usage\n *\n * @param hex Hex string to decode.\n * @param toOrOpts Type to convert to or options.\n * @returns Decoded value.\n *\n * @example\n * import { fromHex } from 'viem'\n * const data = fromHex('0x1a4', 'number')\n * // 420\n *\n * @example\n * import { fromHex } from 'viem'\n * const data = fromHex('0x48656c6c6f20576f726c6421', 'string')\n * // 'Hello world'\n *\n * @example\n * import { fromHex } from 'viem'\n * const data = fromHex('0x48656c6c6f20576f726c64210000000000000000000000000000000000000000', {\n *   size: 32,\n *   to: 'string'\n * })\n * // 'Hello world'\n */\nexport function fromHex(hex, toOrOpts) {\n    const opts = typeof toOrOpts === 'string' ? { to: toOrOpts } : toOrOpts;\n    const to = opts.to;\n    if (to === 'number')\n        return hexToNumber(hex, opts);\n    if (to === 'bigint')\n        return hexToBigInt(hex, opts);\n    if (to === 'string')\n        return hexToString(hex, opts);\n    if (to === 'boolean')\n        return hexToBool(hex, opts);\n    return hexToBytes(hex, opts);\n}\n/**\n * Decodes a hex value into a bigint.\n *\n * - Docs: https://viem.sh/docs/utilities/fromHex#hextobigint\n *\n * @param hex Hex value to decode.\n * @param opts Options.\n * @returns BigInt value.\n *\n * @example\n * import { hexToBigInt } from 'viem'\n * const data = hexToBigInt('0x1a4', { signed: true })\n * // 420n\n *\n * @example\n * import { hexToBigInt } from 'viem'\n * const data = hexToBigInt('0x00000000000000000000000000000000000000000000000000000000000001a4', { size: 32 })\n * // 420n\n */\nexport function hexToBigInt(hex, opts = {}) {\n    const { signed } = opts;\n    if (opts.size)\n        assertSize(hex, { size: opts.size });\n    const value = BigInt(hex);\n    if (!signed)\n        return value;\n    const size = (hex.length - 2) / 2;\n    const max = (1n << (BigInt(size) * 8n - 1n)) - 1n;\n    if (value <= max)\n        return value;\n    return value - BigInt(`0x${'f'.padStart(size * 2, 'f')}`) - 1n;\n}\n/**\n * Decodes a hex value into a boolean.\n *\n * - Docs: https://viem.sh/docs/utilities/fromHex#hextobool\n *\n * @param hex Hex value to decode.\n * @param opts Options.\n * @returns Boolean value.\n *\n * @example\n * import { hexToBool } from 'viem'\n * const data = hexToBool('0x01')\n * // true\n *\n * @example\n * import { hexToBool } from 'viem'\n * const data = hexToBool('0x0000000000000000000000000000000000000000000000000000000000000001', { size: 32 })\n * // true\n */\nexport function hexToBool(hex_, opts = {}) {\n    let hex = hex_;\n    if (opts.size) {\n        assertSize(hex, { size: opts.size });\n        hex = trim(hex);\n    }\n    if (trim(hex) === '0x00')\n        return false;\n    if (trim(hex) === '0x01')\n        return true;\n    throw new InvalidHexBooleanError(hex);\n}\n/**\n * Decodes a hex string into a number.\n *\n * - Docs: https://viem.sh/docs/utilities/fromHex#hextonumber\n *\n * @param hex Hex value to decode.\n * @param opts Options.\n * @returns Number value.\n *\n * @example\n * import { hexToNumber } from 'viem'\n * const data = hexToNumber('0x1a4')\n * // 420\n *\n * @example\n * import { hexToNumber } from 'viem'\n * const data = hexToBigInt('0x00000000000000000000000000000000000000000000000000000000000001a4', { size: 32 })\n * // 420\n */\nexport function hexToNumber(hex, opts = {}) {\n    return Number(hexToBigInt(hex, opts));\n}\n/**\n * Decodes a hex value into a UTF-8 string.\n *\n * - Docs: https://viem.sh/docs/utilities/fromHex#hextostring\n *\n * @param hex Hex value to decode.\n * @param opts Options.\n * @returns String value.\n *\n * @example\n * import { hexToString } from 'viem'\n * const data = hexToString('0x48656c6c6f20576f726c6421')\n * // 'Hello world!'\n *\n * @example\n * import { hexToString } from 'viem'\n * const data = hexToString('0x48656c6c6f20576f726c64210000000000000000000000000000000000000000', {\n *  size: 32,\n * })\n * // 'Hello world'\n */\nexport function hexToString(hex, opts = {}) {\n    let bytes = hexToBytes(hex);\n    if (opts.size) {\n        assertSize(bytes, { size: opts.size });\n        bytes = trim(bytes, { dir: 'right' });\n    }\n    return new TextDecoder().decode(bytes);\n}\n//# sourceMappingURL=fromHex.js.map","import { IntegerOutOfRangeError, } from '../../errors/encoding.js';\nimport { pad } from '../data/pad.js';\nimport { assertSize } from './fromHex.js';\nconst hexes = /*#__PURE__*/ Array.from({ length: 256 }, (_v, i) => i.toString(16).padStart(2, '0'));\n/**\n * Encodes a string, number, bigint, or ByteArray into a hex string\n *\n * - Docs: https://viem.sh/docs/utilities/toHex\n * - Example: https://viem.sh/docs/utilities/toHex#usage\n *\n * @param value Value to encode.\n * @param opts Options.\n * @returns Hex value.\n *\n * @example\n * import { toHex } from 'viem'\n * const data = toHex('Hello world')\n * // '0x48656c6c6f20776f726c6421'\n *\n * @example\n * import { toHex } from 'viem'\n * const data = toHex(420)\n * // '0x1a4'\n *\n * @example\n * import { toHex } from 'viem'\n * const data = toHex('Hello world', { size: 32 })\n * // '0x48656c6c6f20776f726c64210000000000000000000000000000000000000000'\n */\nexport function toHex(value, opts = {}) {\n    if (typeof value === 'number' || typeof value === 'bigint')\n        return numberToHex(value, opts);\n    if (typeof value === 'string') {\n        return stringToHex(value, opts);\n    }\n    if (typeof value === 'boolean')\n        return boolToHex(value, opts);\n    return bytesToHex(value, opts);\n}\n/**\n * Encodes a boolean into a hex string\n *\n * - Docs: https://viem.sh/docs/utilities/toHex#booltohex\n *\n * @param value Value to encode.\n * @param opts Options.\n * @returns Hex value.\n *\n * @example\n * import { boolToHex } from 'viem'\n * const data = boolToHex(true)\n * // '0x1'\n *\n * @example\n * import { boolToHex } from 'viem'\n * const data = boolToHex(false)\n * // '0x0'\n *\n * @example\n * import { boolToHex } from 'viem'\n * const data = boolToHex(true, { size: 32 })\n * // '0x0000000000000000000000000000000000000000000000000000000000000001'\n */\nexport function boolToHex(value, opts = {}) {\n    const hex = `0x${Number(value)}`;\n    if (typeof opts.size === 'number') {\n        assertSize(hex, { size: opts.size });\n        return pad(hex, { size: opts.size });\n    }\n    return hex;\n}\n/**\n * Encodes a bytes array into a hex string\n *\n * - Docs: https://viem.sh/docs/utilities/toHex#bytestohex\n *\n * @param value Value to encode.\n * @param opts Options.\n * @returns Hex value.\n *\n * @example\n * import { bytesToHex } from 'viem'\n * const data = bytesToHex(Uint8Array.from([72, 101, 108, 108, 111, 32, 87, 111, 114, 108, 100, 33])\n * // '0x48656c6c6f20576f726c6421'\n *\n * @example\n * import { bytesToHex } from 'viem'\n * const data = bytesToHex(Uint8Array.from([72, 101, 108, 108, 111, 32, 87, 111, 114, 108, 100, 33]), { size: 32 })\n * // '0x48656c6c6f20576f726c64210000000000000000000000000000000000000000'\n */\nexport function bytesToHex(value, opts = {}) {\n    let string = '';\n    for (let i = 0; i < value.length; i++) {\n        string += hexes[value[i]];\n    }\n    const hex = `0x${string}`;\n    if (typeof opts.size === 'number') {\n        assertSize(hex, { size: opts.size });\n        return pad(hex, { dir: 'right', size: opts.size });\n    }\n    return hex;\n}\n/**\n * Encodes a number or bigint into a hex string\n *\n * - Docs: https://viem.sh/docs/utilities/toHex#numbertohex\n *\n * @param value Value to encode.\n * @param opts Options.\n * @returns Hex value.\n *\n * @example\n * import { numberToHex } from 'viem'\n * const data = numberToHex(420)\n * // '0x1a4'\n *\n * @example\n * import { numberToHex } from 'viem'\n * const data = numberToHex(420, { size: 32 })\n * // '0x00000000000000000000000000000000000000000000000000000000000001a4'\n */\nexport function numberToHex(value_, opts = {}) {\n    const { signed, size } = opts;\n    const value = BigInt(value_);\n    let maxValue;\n    if (size) {\n        if (signed)\n            maxValue = (1n << (BigInt(size) * 8n - 1n)) - 1n;\n        else\n            maxValue = 2n ** (BigInt(size) * 8n) - 1n;\n    }\n    else if (typeof value_ === 'number') {\n        maxValue = BigInt(Number.MAX_SAFE_INTEGER);\n    }\n    const minValue = typeof maxValue === 'bigint' && signed ? -maxValue - 1n : 0;\n    if ((maxValue && value > maxValue) || value < minValue) {\n        const suffix = typeof value_ === 'bigint' ? 'n' : '';\n        throw new IntegerOutOfRangeError({\n            max: maxValue ? `${maxValue}${suffix}` : undefined,\n            min: `${minValue}${suffix}`,\n            signed,\n            size,\n            value: `${value_}${suffix}`,\n        });\n    }\n    const hex = `0x${(signed && value < 0\n        ? (1n << BigInt(size * 8)) + BigInt(value)\n        : value).toString(16)}`;\n    if (size)\n        return pad(hex, { size });\n    return hex;\n}\nconst encoder = /*#__PURE__*/ new TextEncoder();\n/**\n * Encodes a UTF-8 string into a hex string\n *\n * - Docs: https://viem.sh/docs/utilities/toHex#stringtohex\n *\n * @param value Value to encode.\n * @param opts Options.\n * @returns Hex value.\n *\n * @example\n * import { stringToHex } from 'viem'\n * const data = stringToHex('Hello World!')\n * // '0x48656c6c6f20576f726c6421'\n *\n * @example\n * import { stringToHex } from 'viem'\n * const data = stringToHex('Hello World!', { size: 32 })\n * // '0x48656c6c6f20576f726c64210000000000000000000000000000000000000000'\n */\nexport function stringToHex(value_, opts = {}) {\n    const value = encoder.encode(value_);\n    return bytesToHex(value, opts);\n}\n//# sourceMappingURL=toHex.js.map","import { BaseError } from '../../errors/base.js';\nimport { isHex } from '../data/isHex.js';\nimport { pad } from '../data/pad.js';\nimport { assertSize } from './fromHex.js';\nimport { numberToHex, } from './toHex.js';\nconst encoder = /*#__PURE__*/ new TextEncoder();\n/**\n * Encodes a UTF-8 string, hex value, bigint, number or boolean to a byte array.\n *\n * - Docs: https://viem.sh/docs/utilities/toBytes\n * - Example: https://viem.sh/docs/utilities/toBytes#usage\n *\n * @param value Value to encode.\n * @param opts Options.\n * @returns Byte array value.\n *\n * @example\n * import { toBytes } from 'viem'\n * const data = toBytes('Hello world')\n * // Uint8Array([72, 101, 108, 108, 111, 32, 87, 111, 114, 108, 100, 33])\n *\n * @example\n * import { toBytes } from 'viem'\n * const data = toBytes(420)\n * // Uint8Array([1, 164])\n *\n * @example\n * import { toBytes } from 'viem'\n * const data = toBytes(420, { size: 4 })\n * // Uint8Array([0, 0, 1, 164])\n */\nexport function toBytes(value, opts = {}) {\n    if (typeof value === 'number' || typeof value === 'bigint')\n        return numberToBytes(value, opts);\n    if (typeof value === 'boolean')\n        return boolToBytes(value, opts);\n    if (isHex(value))\n        return hexToBytes(value, opts);\n    return stringToBytes(value, opts);\n}\n/**\n * Encodes a boolean into a byte array.\n *\n * - Docs: https://viem.sh/docs/utilities/toBytes#booltobytes\n *\n * @param value Boolean value to encode.\n * @param opts Options.\n * @returns Byte array value.\n *\n * @example\n * import { boolToBytes } from 'viem'\n * const data = boolToBytes(true)\n * // Uint8Array([1])\n *\n * @example\n * import { boolToBytes } from 'viem'\n * const data = boolToBytes(true, { size: 32 })\n * // Uint8Array([0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 1])\n */\nexport function boolToBytes(value, opts = {}) {\n    const bytes = new Uint8Array(1);\n    bytes[0] = Number(value);\n    if (typeof opts.size === 'number') {\n        assertSize(bytes, { size: opts.size });\n        return pad(bytes, { size: opts.size });\n    }\n    return bytes;\n}\n// We use very optimized technique to convert hex string to byte array\nconst charCodeMap = {\n    zero: 48,\n    nine: 57,\n    A: 65,\n    F: 70,\n    a: 97,\n    f: 102,\n};\nfunction charCodeToBase16(char) {\n    if (char >= charCodeMap.zero && char <= charCodeMap.nine)\n        return char - charCodeMap.zero;\n    if (char >= charCodeMap.A && char <= charCodeMap.F)\n        return char - (charCodeMap.A - 10);\n    if (char >= charCodeMap.a && char <= charCodeMap.f)\n        return char - (charCodeMap.a - 10);\n    return undefined;\n}\n/**\n * Encodes a hex string into a byte array.\n *\n * - Docs: https://viem.sh/docs/utilities/toBytes#hextobytes\n *\n * @param hex Hex string to encode.\n * @param opts Options.\n * @returns Byte array value.\n *\n * @example\n * import { hexToBytes } from 'viem'\n * const data = hexToBytes('0x48656c6c6f20776f726c6421')\n * // Uint8Array([72, 101, 108, 108, 111, 32, 87, 111, 114, 108, 100, 33])\n *\n * @example\n * import { hexToBytes } from 'viem'\n * const data = hexToBytes('0x48656c6c6f20776f726c6421', { size: 32 })\n * // Uint8Array([72, 101, 108, 108, 111, 32, 87, 111, 114, 108, 100, 33, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0])\n */\nexport function hexToBytes(hex_, opts = {}) {\n    let hex = hex_;\n    if (opts.size) {\n        assertSize(hex, { size: opts.size });\n        hex = pad(hex, { dir: 'right', size: opts.size });\n    }\n    let hexString = hex.slice(2);\n    if (hexString.length % 2)\n        hexString = `0${hexString}`;\n    const length = hexString.length / 2;\n    const bytes = new Uint8Array(length);\n    for (let index = 0, j = 0; index < length; index++) {\n        const nibbleLeft = charCodeToBase16(hexString.charCodeAt(j++));\n        const nibbleRight = charCodeToBase16(hexString.charCodeAt(j++));\n        if (nibbleLeft === undefined || nibbleRight === undefined) {\n            throw new BaseError(`Invalid byte sequence (\"${hexString[j - 2]}${hexString[j - 1]}\" in \"${hexString}\").`);\n        }\n        bytes[index] = nibbleLeft * 16 + nibbleRight;\n    }\n    return bytes;\n}\n/**\n * Encodes a number into a byte array.\n *\n * - Docs: https://viem.sh/docs/utilities/toBytes#numbertobytes\n *\n * @param value Number to encode.\n * @param opts Options.\n * @returns Byte array value.\n *\n * @example\n * import { numberToBytes } from 'viem'\n * const data = numberToBytes(420)\n * // Uint8Array([1, 164])\n *\n * @example\n * import { numberToBytes } from 'viem'\n * const data = numberToBytes(420, { size: 4 })\n * // Uint8Array([0, 0, 1, 164])\n */\nexport function numberToBytes(value, opts) {\n    const hex = numberToHex(value, opts);\n    return hexToBytes(hex);\n}\n/**\n * Encodes a UTF-8 string into a byte array.\n *\n * - Docs: https://viem.sh/docs/utilities/toBytes#stringtobytes\n *\n * @param value String to encode.\n * @param opts Options.\n * @returns Byte array value.\n *\n * @example\n * import { stringToBytes } from 'viem'\n * const data = stringToBytes('Hello world!')\n * // Uint8Array([72, 101, 108, 108, 111, 32, 119, 111, 114, 108, 100, 33])\n *\n * @example\n * import { stringToBytes } from 'viem'\n * const data = stringToBytes('Hello world!', { size: 32 })\n * // Uint8Array([72, 101, 108, 108, 111, 32, 87, 111, 114, 108, 100, 33, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0])\n */\nexport function stringToBytes(value, opts = {}) {\n    const bytes = encoder.encode(value);\n    if (typeof opts.size === 'number') {\n        assertSize(bytes, { size: opts.size });\n        return pad(bytes, { dir: 'right', size: opts.size });\n    }\n    return bytes;\n}\n//# sourceMappingURL=toBytes.js.map","function number(n) {\n    if (!Number.isSafeInteger(n) || n < 0)\n        throw new Error(`positive integer expected, not ${n}`);\n}\nfunction bool(b) {\n    if (typeof b !== 'boolean')\n        throw new Error(`boolean expected, not ${b}`);\n}\n// copied from utils\nexport function isBytes(a) {\n    return (a instanceof Uint8Array ||\n        (a != null && typeof a === 'object' && a.constructor.name === 'Uint8Array'));\n}\nfunction bytes(b, ...lengths) {\n    if (!isBytes(b))\n        throw new Error('Uint8Array expected');\n    if (lengths.length > 0 && !lengths.includes(b.length))\n        throw new Error(`Uint8Array expected of length ${lengths}, not of length=${b.length}`);\n}\nfunction hash(h) {\n    if (typeof h !== 'function' || typeof h.create !== 'function')\n        throw new Error('Hash should be wrapped by utils.wrapConstructor');\n    number(h.outputLen);\n    number(h.blockLen);\n}\nfunction exists(instance, checkFinished = true) {\n    if (instance.destroyed)\n        throw new Error('Hash instance has been destroyed');\n    if (checkFinished && instance.finished)\n        throw new Error('Hash#digest() has already been called');\n}\nfunction output(out, instance) {\n    bytes(out);\n    const min = instance.outputLen;\n    if (out.length < min) {\n        throw new Error(`digestInto() expects output buffer of length at least ${min}`);\n    }\n}\nexport { number, bool, bytes, hash, exists, output };\nconst assert = { number, bool, bytes, hash, exists, output };\nexport default assert;\n//# sourceMappingURL=_assert.js.map","const U32_MASK64 = /* @__PURE__ */ BigInt(2 ** 32 - 1);\nconst _32n = /* @__PURE__ */ BigInt(32);\n// We are not using BigUint64Array, because they are extremely slow as per 2022\nfunction fromBig(n, le = false) {\n    if (le)\n        return { h: Number(n & U32_MASK64), l: Number((n >> _32n) & U32_MASK64) };\n    return { h: Number((n >> _32n) & U32_MASK64) | 0, l: Number(n & U32_MASK64) | 0 };\n}\nfunction split(lst, le = false) {\n    let Ah = new Uint32Array(lst.length);\n    let Al = new Uint32Array(lst.length);\n    for (let i = 0; i < lst.length; i++) {\n        const { h, l } = fromBig(lst[i], le);\n        [Ah[i], Al[i]] = [h, l];\n    }\n    return [Ah, Al];\n}\nconst toBig = (h, l) => (BigInt(h >>> 0) << _32n) | BigInt(l >>> 0);\n// for Shift in [0, 32)\nconst shrSH = (h, _l, s) => h >>> s;\nconst shrSL = (h, l, s) => (h << (32 - s)) | (l >>> s);\n// Right rotate for Shift in [1, 32)\nconst rotrSH = (h, l, s) => (h >>> s) | (l << (32 - s));\nconst rotrSL = (h, l, s) => (h << (32 - s)) | (l >>> s);\n// Right rotate for Shift in (32, 64), NOTE: 32 is special case.\nconst rotrBH = (h, l, s) => (h << (64 - s)) | (l >>> (s - 32));\nconst rotrBL = (h, l, s) => (h >>> (s - 32)) | (l << (64 - s));\n// Right rotate for shift===32 (just swaps l&h)\nconst rotr32H = (_h, l) => l;\nconst rotr32L = (h, _l) => h;\n// Left rotate for Shift in [1, 32)\nconst rotlSH = (h, l, s) => (h << s) | (l >>> (32 - s));\nconst rotlSL = (h, l, s) => (l << s) | (h >>> (32 - s));\n// Left rotate for Shift in (32, 64), NOTE: 32 is special case.\nconst rotlBH = (h, l, s) => (l << (s - 32)) | (h >>> (64 - s));\nconst rotlBL = (h, l, s) => (h << (s - 32)) | (l >>> (64 - s));\n// JS uses 32-bit signed integers for bitwise operations which means we cannot\n// simple take carry out of low bit sum by shift, we need to use division.\nfunction add(Ah, Al, Bh, Bl) {\n    const l = (Al >>> 0) + (Bl >>> 0);\n    return { h: (Ah + Bh + ((l / 2 ** 32) | 0)) | 0, l: l | 0 };\n}\n// Addition with more than 2 elements\nconst add3L = (Al, Bl, Cl) => (Al >>> 0) + (Bl >>> 0) + (Cl >>> 0);\nconst add3H = (low, Ah, Bh, Ch) => (Ah + Bh + Ch + ((low / 2 ** 32) | 0)) | 0;\nconst add4L = (Al, Bl, Cl, Dl) => (Al >>> 0) + (Bl >>> 0) + (Cl >>> 0) + (Dl >>> 0);\nconst add4H = (low, Ah, Bh, Ch, Dh) => (Ah + Bh + Ch + Dh + ((low / 2 ** 32) | 0)) | 0;\nconst add5L = (Al, Bl, Cl, Dl, El) => (Al >>> 0) + (Bl >>> 0) + (Cl >>> 0) + (Dl >>> 0) + (El >>> 0);\nconst add5H = (low, Ah, Bh, Ch, Dh, Eh) => (Ah + Bh + Ch + Dh + Eh + ((low / 2 ** 32) | 0)) | 0;\n// prettier-ignore\nexport { fromBig, split, toBig, shrSH, shrSL, rotrSH, rotrSL, rotrBH, rotrBL, rotr32H, rotr32L, rotlSH, rotlSL, rotlBH, rotlBL, add, add3L, add3H, add4L, add4H, add5H, add5L, };\n// prettier-ignore\nconst u64 = {\n    fromBig, split, toBig,\n    shrSH, shrSL,\n    rotrSH, rotrSL, rotrBH, rotrBL,\n    rotr32H, rotr32L,\n    rotlSH, rotlSL, rotlBH, rotlBL,\n    add, add3L, add3H, add4L, add4H, add5H, add5L,\n};\nexport default u64;\n//# sourceMappingURL=_u64.js.map","/*! noble-hashes - MIT License (c) 2022 Paul Miller (paulmillr.com) */\n// We use WebCrypto aka globalThis.crypto, which exists in browsers and node.js 16+.\n// node.js versions earlier than v19 don't declare it in global scope.\n// For node.js, package.json#exports field mapping rewrites import\n// from `crypto` to `cryptoNode`, which imports native module.\n// Makes the utils un-importable in browsers without a bundler.\n// Once node.js 18 is deprecated (2025-04-30), we can just drop the import.\nimport { crypto } from '@noble/hashes/crypto';\nimport { bytes as abytes } from './_assert.js';\n// export { isBytes } from './_assert.js';\n// We can't reuse isBytes from _assert, because somehow this causes huge perf issues\nexport function isBytes(a) {\n    return (a instanceof Uint8Array ||\n        (a != null && typeof a === 'object' && a.constructor.name === 'Uint8Array'));\n}\n// Cast array to different type\nexport const u8 = (arr) => new Uint8Array(arr.buffer, arr.byteOffset, arr.byteLength);\nexport const u32 = (arr) => new Uint32Array(arr.buffer, arr.byteOffset, Math.floor(arr.byteLength / 4));\n// Cast array to view\nexport const createView = (arr) => new DataView(arr.buffer, arr.byteOffset, arr.byteLength);\n// The rotate right (circular right shift) operation for uint32\nexport const rotr = (word, shift) => (word << (32 - shift)) | (word >>> shift);\n// The rotate left (circular left shift) operation for uint32\nexport const rotl = (word, shift) => (word << shift) | ((word >>> (32 - shift)) >>> 0);\nexport const isLE = new Uint8Array(new Uint32Array([0x11223344]).buffer)[0] === 0x44;\n// The byte swap operation for uint32\nexport const byteSwap = (word) => ((word << 24) & 0xff000000) |\n    ((word << 8) & 0xff0000) |\n    ((word >>> 8) & 0xff00) |\n    ((word >>> 24) & 0xff);\n// Conditionally byte swap if on a big-endian platform\nexport const byteSwapIfBE = isLE ? (n) => n : (n) => byteSwap(n);\n// In place byte swap for Uint32Array\nexport function byteSwap32(arr) {\n    for (let i = 0; i < arr.length; i++) {\n        arr[i] = byteSwap(arr[i]);\n    }\n}\n// Array where index 0xf0 (240) is mapped to string 'f0'\nconst hexes = /* @__PURE__ */ Array.from({ length: 256 }, (_, i) => i.toString(16).padStart(2, '0'));\n/**\n * @example bytesToHex(Uint8Array.from([0xca, 0xfe, 0x01, 0x23])) // 'cafe0123'\n */\nexport function bytesToHex(bytes) {\n    abytes(bytes);\n    // pre-caching improves the speed 6x\n    let hex = '';\n    for (let i = 0; i < bytes.length; i++) {\n        hex += hexes[bytes[i]];\n    }\n    return hex;\n}\n// We use optimized technique to convert hex string to byte array\nconst asciis = { _0: 48, _9: 57, _A: 65, _F: 70, _a: 97, _f: 102 };\nfunction asciiToBase16(char) {\n    if (char >= asciis._0 && char <= asciis._9)\n        return char - asciis._0;\n    if (char >= asciis._A && char <= asciis._F)\n        return char - (asciis._A - 10);\n    if (char >= asciis._a && char <= asciis._f)\n        return char - (asciis._a - 10);\n    return;\n}\n/**\n * @example hexToBytes('cafe0123') // Uint8Array.from([0xca, 0xfe, 0x01, 0x23])\n */\nexport function hexToBytes(hex) {\n    if (typeof hex !== 'string')\n        throw new Error('hex string expected, got ' + typeof hex);\n    const hl = hex.length;\n    const al = hl / 2;\n    if (hl % 2)\n        throw new Error('padded hex string expected, got unpadded hex of length ' + hl);\n    const array = new Uint8Array(al);\n    for (let ai = 0, hi = 0; ai < al; ai++, hi += 2) {\n        const n1 = asciiToBase16(hex.charCodeAt(hi));\n        const n2 = asciiToBase16(hex.charCodeAt(hi + 1));\n        if (n1 === undefined || n2 === undefined) {\n            const char = hex[hi] + hex[hi + 1];\n            throw new Error('hex string expected, got non-hex character \"' + char + '\" at index ' + hi);\n        }\n        array[ai] = n1 * 16 + n2;\n    }\n    return array;\n}\n// There is no setImmediate in browser and setTimeout is slow.\n// call of async fn will return Promise, which will be fullfiled only on\n// next scheduler queue processing step and this is exactly what we need.\nexport const nextTick = async () => { };\n// Returns control to thread each 'tick' ms to avoid blocking\nexport async function asyncLoop(iters, tick, cb) {\n    let ts = Date.now();\n    for (let i = 0; i < iters; i++) {\n        cb(i);\n        // Date.now() is not monotonic, so in case if clock goes backwards we return return control too\n        const diff = Date.now() - ts;\n        if (diff >= 0 && diff < tick)\n            continue;\n        await nextTick();\n        ts += diff;\n    }\n}\n/**\n * @example utf8ToBytes('abc') // new Uint8Array([97, 98, 99])\n */\nexport function utf8ToBytes(str) {\n    if (typeof str !== 'string')\n        throw new Error(`utf8ToBytes expected string, got ${typeof str}`);\n    return new Uint8Array(new TextEncoder().encode(str)); // https://bugzil.la/1681809\n}\n/**\n * Normalizes (non-hex) string or Uint8Array to Uint8Array.\n * Warning: when Uint8Array is passed, it would NOT get copied.\n * Keep in mind for future mutable operations.\n */\nexport function toBytes(data) {\n    if (typeof data === 'string')\n        data = utf8ToBytes(data);\n    abytes(data);\n    return data;\n}\n/**\n * Copies several Uint8Arrays into one.\n */\nexport function concatBytes(...arrays) {\n    let sum = 0;\n    for (let i = 0; i < arrays.length; i++) {\n        const a = arrays[i];\n        abytes(a);\n        sum += a.length;\n    }\n    const res = new Uint8Array(sum);\n    for (let i = 0, pad = 0; i < arrays.length; i++) {\n        const a = arrays[i];\n        res.set(a, pad);\n        pad += a.length;\n    }\n    return res;\n}\n// For runtime check if class implements interface\nexport class Hash {\n    // Safe version that clones internal state\n    clone() {\n        return this._cloneInto();\n    }\n}\nconst toStr = {}.toString;\nexport function checkOpts(defaults, opts) {\n    if (opts !== undefined && toStr.call(opts) !== '[object Object]')\n        throw new Error('Options should be object or undefined');\n    const merged = Object.assign(defaults, opts);\n    return merged;\n}\nexport function wrapConstructor(hashCons) {\n    const hashC = (msg) => hashCons().update(toBytes(msg)).digest();\n    const tmp = hashCons();\n    hashC.outputLen = tmp.outputLen;\n    hashC.blockLen = tmp.blockLen;\n    hashC.create = () => hashCons();\n    return hashC;\n}\nexport function wrapConstructorWithOpts(hashCons) {\n    const hashC = (msg, opts) => hashCons(opts).update(toBytes(msg)).digest();\n    const tmp = hashCons({});\n    hashC.outputLen = tmp.outputLen;\n    hashC.blockLen = tmp.blockLen;\n    hashC.create = (opts) => hashCons(opts);\n    return hashC;\n}\nexport function wrapXOFConstructorWithOpts(hashCons) {\n    const hashC = (msg, opts) => hashCons(opts).update(toBytes(msg)).digest();\n    const tmp = hashCons({});\n    hashC.outputLen = tmp.outputLen;\n    hashC.blockLen = tmp.blockLen;\n    hashC.create = (opts) => hashCons(opts);\n    return hashC;\n}\n/**\n * Secure PRNG. Uses `crypto.getRandomValues`, which defers to OS.\n */\nexport function randomBytes(bytesLength = 32) {\n    if (crypto && typeof crypto.getRandomValues === 'function') {\n        return crypto.getRandomValues(new Uint8Array(bytesLength));\n    }\n    throw new Error('crypto.getRandomValues must be defined');\n}\n//# sourceMappingURL=utils.js.map","import { bytes, exists, number, output } from './_assert.js';\nimport { rotlBH, rotlBL, rotlSH, rotlSL, split } from './_u64.js';\nimport { Hash, u32, toBytes, wrapConstructor, wrapXOFConstructorWithOpts, isLE, byteSwap32, } from './utils.js';\n// SHA3 (keccak) is based on a new design: basically, the internal state is bigger than output size.\n// It's called a sponge function.\n// Various per round constants calculations\nconst SHA3_PI = [];\nconst SHA3_ROTL = [];\nconst _SHA3_IOTA = [];\nconst _0n = /* @__PURE__ */ BigInt(0);\nconst _1n = /* @__PURE__ */ BigInt(1);\nconst _2n = /* @__PURE__ */ BigInt(2);\nconst _7n = /* @__PURE__ */ BigInt(7);\nconst _256n = /* @__PURE__ */ BigInt(256);\nconst _0x71n = /* @__PURE__ */ BigInt(0x71);\nfor (let round = 0, R = _1n, x = 1, y = 0; round < 24; round++) {\n    // Pi\n    [x, y] = [y, (2 * x + 3 * y) % 5];\n    SHA3_PI.push(2 * (5 * y + x));\n    // Rotational\n    SHA3_ROTL.push((((round + 1) * (round + 2)) / 2) % 64);\n    // Iota\n    let t = _0n;\n    for (let j = 0; j < 7; j++) {\n        R = ((R << _1n) ^ ((R >> _7n) * _0x71n)) % _256n;\n        if (R & _2n)\n            t ^= _1n << ((_1n << /* @__PURE__ */ BigInt(j)) - _1n);\n    }\n    _SHA3_IOTA.push(t);\n}\nconst [SHA3_IOTA_H, SHA3_IOTA_L] = /* @__PURE__ */ split(_SHA3_IOTA, true);\n// Left rotation (without 0, 32, 64)\nconst rotlH = (h, l, s) => (s > 32 ? rotlBH(h, l, s) : rotlSH(h, l, s));\nconst rotlL = (h, l, s) => (s > 32 ? rotlBL(h, l, s) : rotlSL(h, l, s));\n// Same as keccakf1600, but allows to skip some rounds\nexport function keccakP(s, rounds = 24) {\n    const B = new Uint32Array(5 * 2);\n    // NOTE: all indices are x2 since we store state as u32 instead of u64 (bigints to slow in js)\n    for (let round = 24 - rounds; round < 24; round++) {\n        // Theta \n        for (let x = 0; x < 10; x++)\n            B[x] = s[x] ^ s[x + 10] ^ s[x + 20] ^ s[x + 30] ^ s[x + 40];\n        for (let x = 0; x < 10; x += 2) {\n            const idx1 = (x + 8) % 10;\n            const idx0 = (x + 2) % 10;\n            const B0 = B[idx0];\n            const B1 = B[idx0 + 1];\n            const Th = rotlH(B0, B1, 1) ^ B[idx1];\n            const Tl = rotlL(B0, B1, 1) ^ B[idx1 + 1];\n            for (let y = 0; y < 50; y += 10) {\n                s[x + y] ^= Th;\n                s[x + y + 1] ^= Tl;\n            }\n        }\n        // Rho () and Pi ()\n        let curH = s[2];\n        let curL = s[3];\n        for (let t = 0; t < 24; t++) {\n            const shift = SHA3_ROTL[t];\n            const Th = rotlH(curH, curL, shift);\n            const Tl = rotlL(curH, curL, shift);\n            const PI = SHA3_PI[t];\n            curH = s[PI];\n            curL = s[PI + 1];\n            s[PI] = Th;\n            s[PI + 1] = Tl;\n        }\n        // Chi ()\n        for (let y = 0; y < 50; y += 10) {\n            for (let x = 0; x < 10; x++)\n                B[x] = s[y + x];\n            for (let x = 0; x < 10; x++)\n                s[y + x] ^= ~B[(x + 2) % 10] & B[(x + 4) % 10];\n        }\n        // Iota ()\n        s[0] ^= SHA3_IOTA_H[round];\n        s[1] ^= SHA3_IOTA_L[round];\n    }\n    B.fill(0);\n}\nexport class Keccak extends Hash {\n    // NOTE: we accept arguments in bytes instead of bits here.\n    constructor(blockLen, suffix, outputLen, enableXOF = false, rounds = 24) {\n        super();\n        this.blockLen = blockLen;\n        this.suffix = suffix;\n        this.outputLen = outputLen;\n        this.enableXOF = enableXOF;\n        this.rounds = rounds;\n        this.pos = 0;\n        this.posOut = 0;\n        this.finished = false;\n        this.destroyed = false;\n        // Can be passed from user as dkLen\n        number(outputLen);\n        // 1600 = 5x5 matrix of 64bit.  1600 bits === 200 bytes\n        if (0 >= this.blockLen || this.blockLen >= 200)\n            throw new Error('Sha3 supports only keccak-f1600 function');\n        this.state = new Uint8Array(200);\n        this.state32 = u32(this.state);\n    }\n    keccak() {\n        if (!isLE)\n            byteSwap32(this.state32);\n        keccakP(this.state32, this.rounds);\n        if (!isLE)\n            byteSwap32(this.state32);\n        this.posOut = 0;\n        this.pos = 0;\n    }\n    update(data) {\n        exists(this);\n        const { blockLen, state } = this;\n        data = toBytes(data);\n        const len = data.length;\n        for (let pos = 0; pos < len;) {\n            const take = Math.min(blockLen - this.pos, len - pos);\n            for (let i = 0; i < take; i++)\n                state[this.pos++] ^= data[pos++];\n            if (this.pos === blockLen)\n                this.keccak();\n        }\n        return this;\n    }\n    finish() {\n        if (this.finished)\n            return;\n        this.finished = true;\n        const { state, suffix, pos, blockLen } = this;\n        // Do the padding\n        state[pos] ^= suffix;\n        if ((suffix & 0x80) !== 0 && pos === blockLen - 1)\n            this.keccak();\n        state[blockLen - 1] ^= 0x80;\n        this.keccak();\n    }\n    writeInto(out) {\n        exists(this, false);\n        bytes(out);\n        this.finish();\n        const bufferOut = this.state;\n        const { blockLen } = this;\n        for (let pos = 0, len = out.length; pos < len;) {\n            if (this.posOut >= blockLen)\n                this.keccak();\n            const take = Math.min(blockLen - this.posOut, len - pos);\n            out.set(bufferOut.subarray(this.posOut, this.posOut + take), pos);\n            this.posOut += take;\n            pos += take;\n        }\n        return out;\n    }\n    xofInto(out) {\n        // Sha3/Keccak usage with XOF is probably mistake, only SHAKE instances can do XOF\n        if (!this.enableXOF)\n            throw new Error('XOF is not possible for this instance');\n        return this.writeInto(out);\n    }\n    xof(bytes) {\n        number(bytes);\n        return this.xofInto(new Uint8Array(bytes));\n    }\n    digestInto(out) {\n        output(out, this);\n        if (this.finished)\n            throw new Error('digest() was already called');\n        this.writeInto(out);\n        this.destroy();\n        return out;\n    }\n    digest() {\n        return this.digestInto(new Uint8Array(this.outputLen));\n    }\n    destroy() {\n        this.destroyed = true;\n        this.state.fill(0);\n    }\n    _cloneInto(to) {\n        const { blockLen, suffix, outputLen, rounds, enableXOF } = this;\n        to || (to = new Keccak(blockLen, suffix, outputLen, enableXOF, rounds));\n        to.state32.set(this.state32);\n        to.pos = this.pos;\n        to.posOut = this.posOut;\n        to.finished = this.finished;\n        to.rounds = rounds;\n        // Suffix can change in cSHAKE\n        to.suffix = suffix;\n        to.outputLen = outputLen;\n        to.enableXOF = enableXOF;\n        to.destroyed = this.destroyed;\n        return to;\n    }\n}\nconst gen = (suffix, blockLen, outputLen) => wrapConstructor(() => new Keccak(blockLen, suffix, outputLen));\nexport const sha3_224 = /* @__PURE__ */ gen(0x06, 144, 224 / 8);\n/**\n * SHA3-256 hash function\n * @param message - that would be hashed\n */\nexport const sha3_256 = /* @__PURE__ */ gen(0x06, 136, 256 / 8);\nexport const sha3_384 = /* @__PURE__ */ gen(0x06, 104, 384 / 8);\nexport const sha3_512 = /* @__PURE__ */ gen(0x06, 72, 512 / 8);\nexport const keccak_224 = /* @__PURE__ */ gen(0x01, 144, 224 / 8);\n/**\n * keccak-256 hash function. Different from SHA3-256.\n * @param message - that would be hashed\n */\nexport const keccak_256 = /* @__PURE__ */ gen(0x01, 136, 256 / 8);\nexport const keccak_384 = /* @__PURE__ */ gen(0x01, 104, 384 / 8);\nexport const keccak_512 = /* @__PURE__ */ gen(0x01, 72, 512 / 8);\nconst genShake = (suffix, blockLen, outputLen) => wrapXOFConstructorWithOpts((opts = {}) => new Keccak(blockLen, suffix, opts.dkLen === undefined ? outputLen : opts.dkLen, true));\nexport const shake128 = /* @__PURE__ */ genShake(0x1f, 168, 128 / 8);\nexport const shake256 = /* @__PURE__ */ genShake(0x1f, 136, 256 / 8);\n//# sourceMappingURL=sha3.js.map","import { keccak_256 } from '@noble/hashes/sha3';\nimport { isHex } from '../data/isHex.js';\nimport { toBytes } from '../encoding/toBytes.js';\nimport { toHex } from '../encoding/toHex.js';\nexport function keccak256(value, to_) {\n    const to = to_ || 'hex';\n    const bytes = keccak_256(isHex(value, { strict: false }) ? toBytes(value) : value);\n    if (to === 'bytes')\n        return bytes;\n    return toHex(bytes);\n}\n//# sourceMappingURL=keccak256.js.map","import { toBytes } from '../encoding/toBytes.js';\nimport { keccak256 } from './keccak256.js';\nconst hash = (value) => keccak256(toBytes(value));\nexport function hashSignature(sig) {\n    return hash(sig);\n}\n//# sourceMappingURL=hashSignature.js.map","import { BaseError } from '../../errors/base.js';\nexport function normalizeSignature(signature) {\n    let active = true;\n    let current = '';\n    let level = 0;\n    let result = '';\n    let valid = false;\n    for (let i = 0; i < signature.length; i++) {\n        const char = signature[i];\n        // If the character is a separator, we want to reactivate.\n        if (['(', ')', ','].includes(char))\n            active = true;\n        // If the character is a \"level\" token, we want to increment/decrement.\n        if (char === '(')\n            level++;\n        if (char === ')')\n            level--;\n        // If we aren't active, we don't want to mutate the result.\n        if (!active)\n            continue;\n        // If level === 0, we are at the definition level.\n        if (level === 0) {\n            if (char === ' ' && ['event', 'function', ''].includes(result))\n                result = '';\n            else {\n                result += char;\n                // If we are at the end of the definition, we must be finished.\n                if (char === ')') {\n                    valid = true;\n                    break;\n                }\n            }\n            continue;\n        }\n        // Ignore spaces\n        if (char === ' ') {\n            // If the previous character is a separator, and the current section isn't empty, we want to deactivate.\n            if (signature[i - 1] !== ',' && current !== ',' && current !== ',(') {\n                current = '';\n                active = false;\n            }\n            continue;\n        }\n        result += char;\n        current += char;\n    }\n    if (!valid)\n        throw new BaseError('Unable to normalize signature.');\n    return result;\n}\n//# sourceMappingURL=normalizeSignature.js.map","import { formatAbiItem } from 'abitype';\nimport { normalizeSignature, } from './normalizeSignature.js';\n/**\n * Returns the signature for a given function or event definition.\n *\n * @example\n * const signature = toSignature('function ownerOf(uint256 tokenId)')\n * // 'ownerOf(uint256)'\n *\n * @example\n * const signature_3 = toSignature({\n *   name: 'ownerOf',\n *   type: 'function',\n *   inputs: [{ name: 'tokenId', type: 'uint256' }],\n *   outputs: [],\n *   stateMutability: 'view',\n * })\n * // 'ownerOf(uint256)'\n */\nexport const toSignature = (def) => {\n    const def_ = (() => {\n        if (typeof def === 'string')\n            return def;\n        return formatAbiItem(def);\n    })();\n    return normalizeSignature(def_);\n};\n//# sourceMappingURL=toSignature.js.map","import { hashSignature } from './hashSignature.js';\nimport { toSignature } from './toSignature.js';\n/**\n * Returns the hash (of the function/event signature) for a given event or function definition.\n */\nexport function toSignatureHash(fn) {\n    return hashSignature(toSignature(fn));\n}\n//# sourceMappingURL=toSignatureHash.js.map","import { toSignatureHash, } from './toSignatureHash.js';\n/**\n * Returns the event selector for a given event definition.\n *\n * @example\n * const selector = toEventSelector('Transfer(address indexed from, address indexed to, uint256 amount)')\n * // 0xddf252ad1be2c89b69c2b068fc378daa952ba7f163c4a11628f55a4df523b3ef\n */\nexport const toEventSelector = toSignatureHash;\n//# sourceMappingURL=toEventSelector.js.map","import { BaseError } from './base.js';\nexport class InvalidAddressError extends BaseError {\n    constructor({ address }) {\n        super(`Address \"${address}\" is invalid.`, {\n            metaMessages: [\n                '- Address must be a hex value of 20 bytes (40 hex characters).',\n                '- Address must match its checksum counterpart.',\n            ],\n            name: 'InvalidAddressError',\n        });\n    }\n}\n//# sourceMappingURL=address.js.map","/**\n * Map with a LRU (Least recently used) policy.\n *\n * @link https://en.wikipedia.org/wiki/Cache_replacement_policies#LRU\n */\nexport class LruMap extends Map {\n    constructor(size) {\n        super();\n        Object.defineProperty(this, \"maxSize\", {\n            enumerable: true,\n            configurable: true,\n            writable: true,\n            value: void 0\n        });\n        this.maxSize = size;\n    }\n    set(key, value) {\n        super.set(key, value);\n        if (this.maxSize && this.size > this.maxSize)\n            this.delete(this.keys().next().value);\n        return this;\n    }\n}\n//# sourceMappingURL=lru.js.map","import { InvalidAddressError } from '../../errors/address.js';\nimport { stringToBytes, } from '../encoding/toBytes.js';\nimport { keccak256 } from '../hash/keccak256.js';\nimport { LruMap } from '../lru.js';\nimport { isAddress } from './isAddress.js';\nconst checksumAddressCache = /*#__PURE__*/ new LruMap(8192);\nexport function checksumAddress(address_, \n/**\n * Warning: EIP-1191 checksum addresses are generally not backwards compatible with the\n * wider Ethereum ecosystem, meaning it will break when validated against an application/tool\n * that relies on EIP-55 checksum encoding (checksum without chainId).\n *\n * It is highly recommended to not use this feature unless you\n * know what you are doing.\n *\n * See more: https://github.com/ethereum/EIPs/issues/1121\n */\nchainId) {\n    if (checksumAddressCache.has(`${address_}.${chainId}`))\n        return checksumAddressCache.get(`${address_}.${chainId}`);\n    const hexAddress = chainId\n        ? `${chainId}${address_.toLowerCase()}`\n        : address_.substring(2).toLowerCase();\n    const hash = keccak256(stringToBytes(hexAddress), 'bytes');\n    const address = (chainId ? hexAddress.substring(`${chainId}0x`.length) : hexAddress).split('');\n    for (let i = 0; i < 40; i += 2) {\n        if (hash[i >> 1] >> 4 >= 8 && address[i]) {\n            address[i] = address[i].toUpperCase();\n        }\n        if ((hash[i >> 1] & 0x0f) >= 8 && address[i + 1]) {\n            address[i + 1] = address[i + 1].toUpperCase();\n        }\n    }\n    const result = `0x${address.join('')}`;\n    checksumAddressCache.set(`${address_}.${chainId}`, result);\n    return result;\n}\nexport function getAddress(address, \n/**\n * Warning: EIP-1191 checksum addresses are generally not backwards compatible with the\n * wider Ethereum ecosystem, meaning it will break when validated against an application/tool\n * that relies on EIP-55 checksum encoding (checksum without chainId).\n *\n * It is highly recommended to not use this feature unless you\n * know what you are doing.\n *\n * See more: https://github.com/ethereum/EIPs/issues/1121\n */\nchainId) {\n    if (!isAddress(address, { strict: false }))\n        throw new InvalidAddressError({ address });\n    return checksumAddress(address, chainId);\n}\n//# sourceMappingURL=getAddress.js.map","import { LruMap } from '../lru.js';\nimport { checksumAddress } from './getAddress.js';\nconst addressRegex = /^0x[a-fA-F0-9]{40}$/;\n/** @internal */\nexport const isAddressCache = /*#__PURE__*/ new LruMap(8192);\nexport function isAddress(address, options) {\n    const { strict = true } = options ?? {};\n    const cacheKey = `${address}.${strict}`;\n    if (isAddressCache.has(cacheKey))\n        return isAddressCache.get(cacheKey);\n    const result = (() => {\n        if (!addressRegex.test(address))\n            return false;\n        if (address.toLowerCase() === address)\n            return true;\n        if (strict)\n            return checksumAddress(address) === address;\n        return true;\n    })();\n    isAddressCache.set(cacheKey, result);\n    return result;\n}\n//# sourceMappingURL=isAddress.js.map","export function concat(values) {\n    if (typeof values[0] === 'string')\n        return concatHex(values);\n    return concatBytes(values);\n}\nexport function concatBytes(values) {\n    let length = 0;\n    for (const arr of values) {\n        length += arr.length;\n    }\n    const result = new Uint8Array(length);\n    let offset = 0;\n    for (const arr of values) {\n        result.set(arr, offset);\n        offset += arr.length;\n    }\n    return result;\n}\nexport function concatHex(values) {\n    return `0x${values.reduce((acc, x) => acc + x.replace('0x', ''), '')}`;\n}\n//# sourceMappingURL=concat.js.map","import { SliceOffsetOutOfBoundsError, } from '../../errors/data.js';\nimport { isHex } from './isHex.js';\nimport { size } from './size.js';\n/**\n * @description Returns a section of the hex or byte array given a start/end bytes offset.\n *\n * @param value The hex or byte array to slice.\n * @param start The start offset (in bytes).\n * @param end The end offset (in bytes).\n */\nexport function slice(value, start, end, { strict } = {}) {\n    if (isHex(value, { strict: false }))\n        return sliceHex(value, start, end, {\n            strict,\n        });\n    return sliceBytes(value, start, end, {\n        strict,\n    });\n}\nfunction assertStartOffset(value, start) {\n    if (typeof start === 'number' && start > 0 && start > size(value) - 1)\n        throw new SliceOffsetOutOfBoundsError({\n            offset: start,\n            position: 'start',\n            size: size(value),\n        });\n}\nfunction assertEndOffset(value, start, end) {\n    if (typeof start === 'number' &&\n        typeof end === 'number' &&\n        size(value) !== end - start) {\n        throw new SliceOffsetOutOfBoundsError({\n            offset: end,\n            position: 'end',\n            size: size(value),\n        });\n    }\n}\n/**\n * @description Returns a section of the byte array given a start/end bytes offset.\n *\n * @param value The byte array to slice.\n * @param start The start offset (in bytes).\n * @param end The end offset (in bytes).\n */\nexport function sliceBytes(value_, start, end, { strict } = {}) {\n    assertStartOffset(value_, start);\n    const value = value_.slice(start, end);\n    if (strict)\n        assertEndOffset(value, start, end);\n    return value;\n}\n/**\n * @description Returns a section of the hex value given a start/end bytes offset.\n *\n * @param value The hex value to slice.\n * @param start The start offset (in bytes).\n * @param end The end offset (in bytes).\n */\nexport function sliceHex(value_, start, end, { strict } = {}) {\n    assertStartOffset(value_, start);\n    const value = `0x${value_\n        .replace('0x', '')\n        .slice((start ?? 0) * 2, (end ?? value_.length) * 2)}`;\n    if (strict)\n        assertEndOffset(value, start, end);\n    return value;\n}\n//# sourceMappingURL=slice.js.map","import { AbiEncodingArrayLengthMismatchError, AbiEncodingBytesSizeMismatchError, AbiEncodingLengthMismatchError, InvalidAbiEncodingTypeError, InvalidArrayError, } from '../../errors/abi.js';\nimport { InvalidAddressError, } from '../../errors/address.js';\nimport { BaseError } from '../../errors/base.js';\nimport { isAddress } from '../address/isAddress.js';\nimport { concat } from '../data/concat.js';\nimport { padHex } from '../data/pad.js';\nimport { size } from '../data/size.js';\nimport { slice } from '../data/slice.js';\nimport { boolToHex, numberToHex, stringToHex, } from '../encoding/toHex.js';\n/**\n * @description Encodes a list of primitive values into an ABI-encoded hex value.\n *\n * - Docs: https://viem.sh/docs/abi/encodeAbiParameters#encodeabiparameters\n *\n *   Generates ABI encoded data using the [ABI specification](https://docs.soliditylang.org/en/latest/abi-spec), given a set of ABI parameters (inputs/outputs) and their corresponding values.\n *\n * @param params - a set of ABI Parameters (params), that can be in the shape of the inputs or outputs attribute of an ABI Item.\n * @param values - a set of values (values) that correspond to the given params.\n * @example\n * ```typescript\n * import { encodeAbiParameters } from 'viem'\n *\n * const encodedData = encodeAbiParameters(\n *   [\n *     { name: 'x', type: 'string' },\n *     { name: 'y', type: 'uint' },\n *     { name: 'z', type: 'bool' }\n *   ],\n *   ['wagmi', 420n, true]\n * )\n * ```\n *\n * You can also pass in Human Readable parameters with the parseAbiParameters utility.\n *\n * @example\n * ```typescript\n * import { encodeAbiParameters, parseAbiParameters } from 'viem'\n *\n * const encodedData = encodeAbiParameters(\n *   parseAbiParameters('string x, uint y, bool z'),\n *   ['wagmi', 420n, true]\n * )\n * ```\n */\nexport function encodeAbiParameters(params, values) {\n    if (params.length !== values.length)\n        throw new AbiEncodingLengthMismatchError({\n            expectedLength: params.length,\n            givenLength: values.length,\n        });\n    // Prepare the parameters to determine dynamic types to encode.\n    const preparedParams = prepareParams({\n        params: params,\n        values: values,\n    });\n    const data = encodeParams(preparedParams);\n    if (data.length === 0)\n        return '0x';\n    return data;\n}\nfunction prepareParams({ params, values, }) {\n    const preparedParams = [];\n    for (let i = 0; i < params.length; i++) {\n        preparedParams.push(prepareParam({ param: params[i], value: values[i] }));\n    }\n    return preparedParams;\n}\nfunction prepareParam({ param, value, }) {\n    const arrayComponents = getArrayComponents(param.type);\n    if (arrayComponents) {\n        const [length, type] = arrayComponents;\n        return encodeArray(value, { length, param: { ...param, type } });\n    }\n    if (param.type === 'tuple') {\n        return encodeTuple(value, {\n            param: param,\n        });\n    }\n    if (param.type === 'address') {\n        return encodeAddress(value);\n    }\n    if (param.type === 'bool') {\n        return encodeBool(value);\n    }\n    if (param.type.startsWith('uint') || param.type.startsWith('int')) {\n        const signed = param.type.startsWith('int');\n        return encodeNumber(value, { signed });\n    }\n    if (param.type.startsWith('bytes')) {\n        return encodeBytes(value, { param });\n    }\n    if (param.type === 'string') {\n        return encodeString(value);\n    }\n    throw new InvalidAbiEncodingTypeError(param.type, {\n        docsPath: '/docs/contract/encodeAbiParameters',\n    });\n}\nfunction encodeParams(preparedParams) {\n    // 1. Compute the size of the static part of the parameters.\n    let staticSize = 0;\n    for (let i = 0; i < preparedParams.length; i++) {\n        const { dynamic, encoded } = preparedParams[i];\n        if (dynamic)\n            staticSize += 32;\n        else\n            staticSize += size(encoded);\n    }\n    // 2. Split the parameters into static and dynamic parts.\n    const staticParams = [];\n    const dynamicParams = [];\n    let dynamicSize = 0;\n    for (let i = 0; i < preparedParams.length; i++) {\n        const { dynamic, encoded } = preparedParams[i];\n        if (dynamic) {\n            staticParams.push(numberToHex(staticSize + dynamicSize, { size: 32 }));\n            dynamicParams.push(encoded);\n            dynamicSize += size(encoded);\n        }\n        else {\n            staticParams.push(encoded);\n        }\n    }\n    // 3. Concatenate static and dynamic parts.\n    return concat([...staticParams, ...dynamicParams]);\n}\nfunction encodeAddress(value) {\n    if (!isAddress(value))\n        throw new InvalidAddressError({ address: value });\n    return { dynamic: false, encoded: padHex(value.toLowerCase()) };\n}\nfunction encodeArray(value, { length, param, }) {\n    const dynamic = length === null;\n    if (!Array.isArray(value))\n        throw new InvalidArrayError(value);\n    if (!dynamic && value.length !== length)\n        throw new AbiEncodingArrayLengthMismatchError({\n            expectedLength: length,\n            givenLength: value.length,\n            type: `${param.type}[${length}]`,\n        });\n    let dynamicChild = false;\n    const preparedParams = [];\n    for (let i = 0; i < value.length; i++) {\n        const preparedParam = prepareParam({ param, value: value[i] });\n        if (preparedParam.dynamic)\n            dynamicChild = true;\n        preparedParams.push(preparedParam);\n    }\n    if (dynamic || dynamicChild) {\n        const data = encodeParams(preparedParams);\n        if (dynamic) {\n            const length = numberToHex(preparedParams.length, { size: 32 });\n            return {\n                dynamic: true,\n                encoded: preparedParams.length > 0 ? concat([length, data]) : length,\n            };\n        }\n        if (dynamicChild)\n            return { dynamic: true, encoded: data };\n    }\n    return {\n        dynamic: false,\n        encoded: concat(preparedParams.map(({ encoded }) => encoded)),\n    };\n}\nfunction encodeBytes(value, { param }) {\n    const [, paramSize] = param.type.split('bytes');\n    const bytesSize = size(value);\n    if (!paramSize) {\n        let value_ = value;\n        // If the size is not divisible by 32 bytes, pad the end\n        // with empty bytes to the ceiling 32 bytes.\n        if (bytesSize % 32 !== 0)\n            value_ = padHex(value_, {\n                dir: 'right',\n                size: Math.ceil((value.length - 2) / 2 / 32) * 32,\n            });\n        return {\n            dynamic: true,\n            encoded: concat([padHex(numberToHex(bytesSize, { size: 32 })), value_]),\n        };\n    }\n    if (bytesSize !== Number.parseInt(paramSize))\n        throw new AbiEncodingBytesSizeMismatchError({\n            expectedSize: Number.parseInt(paramSize),\n            value,\n        });\n    return { dynamic: false, encoded: padHex(value, { dir: 'right' }) };\n}\nfunction encodeBool(value) {\n    if (typeof value !== 'boolean')\n        throw new BaseError(`Invalid boolean value: \"${value}\" (type: ${typeof value}). Expected: \\`true\\` or \\`false\\`.`);\n    return { dynamic: false, encoded: padHex(boolToHex(value)) };\n}\nfunction encodeNumber(value, { signed }) {\n    return {\n        dynamic: false,\n        encoded: numberToHex(value, {\n            size: 32,\n            signed,\n        }),\n    };\n}\nfunction encodeString(value) {\n    const hexValue = stringToHex(value);\n    const partsLength = Math.ceil(size(hexValue) / 32);\n    const parts = [];\n    for (let i = 0; i < partsLength; i++) {\n        parts.push(padHex(slice(hexValue, i * 32, (i + 1) * 32), {\n            dir: 'right',\n        }));\n    }\n    return {\n        dynamic: true,\n        encoded: concat([\n            padHex(numberToHex(size(hexValue), { size: 32 })),\n            ...parts,\n        ]),\n    };\n}\nfunction encodeTuple(value, { param }) {\n    let dynamic = false;\n    const preparedParams = [];\n    for (let i = 0; i < param.components.length; i++) {\n        const param_ = param.components[i];\n        const index = Array.isArray(value) ? i : param_.name;\n        const preparedParam = prepareParam({\n            param: param_,\n            value: value[index],\n        });\n        preparedParams.push(preparedParam);\n        if (preparedParam.dynamic)\n            dynamic = true;\n    }\n    return {\n        dynamic,\n        encoded: dynamic\n            ? encodeParams(preparedParams)\n            : concat(preparedParams.map(({ encoded }) => encoded)),\n    };\n}\nexport function getArrayComponents(type) {\n    const matches = type.match(/^(.*)\\[(\\d+)?\\]$/);\n    return matches\n        ? // Return `null` if the array is dynamic.\n            [matches[2] ? Number(matches[2]) : null, matches[1]]\n        : undefined;\n}\n//# sourceMappingURL=encodeAbiParameters.js.map","import { slice } from '../data/slice.js';\nimport { toSignatureHash, } from './toSignatureHash.js';\n/**\n * Returns the function selector for a given function definition.\n *\n * @example\n * const selector = toFunctionSelector('function ownerOf(uint256 tokenId)')\n * // 0x6352211e\n */\nexport const toFunctionSelector = (fn) => slice(toSignatureHash(fn), 0, 4);\n//# sourceMappingURL=toFunctionSelector.js.map","import { AbiItemAmbiguityError, } from '../../errors/abi.js';\nimport { isHex } from '../../utils/data/isHex.js';\nimport { isAddress } from '../address/isAddress.js';\nimport { toEventSelector } from '../hash/toEventSelector.js';\nimport { toFunctionSelector, } from '../hash/toFunctionSelector.js';\nexport function getAbiItem(parameters) {\n    const { abi, args = [], name } = parameters;\n    const isSelector = isHex(name, { strict: false });\n    const abiItems = abi.filter((abiItem) => {\n        if (isSelector) {\n            if (abiItem.type === 'function')\n                return toFunctionSelector(abiItem) === name;\n            if (abiItem.type === 'event')\n                return toEventSelector(abiItem) === name;\n            return false;\n        }\n        return 'name' in abiItem && abiItem.name === name;\n    });\n    if (abiItems.length === 0)\n        return undefined;\n    if (abiItems.length === 1)\n        return abiItems[0];\n    let matchedAbiItem = undefined;\n    for (const abiItem of abiItems) {\n        if (!('inputs' in abiItem))\n            continue;\n        if (!args || args.length === 0) {\n            if (!abiItem.inputs || abiItem.inputs.length === 0)\n                return abiItem;\n            continue;\n        }\n        if (!abiItem.inputs)\n            continue;\n        if (abiItem.inputs.length === 0)\n            continue;\n        if (abiItem.inputs.length !== args.length)\n            continue;\n        const matched = args.every((arg, index) => {\n            const abiParameter = 'inputs' in abiItem && abiItem.inputs[index];\n            if (!abiParameter)\n                return false;\n            return isArgOfType(arg, abiParameter);\n        });\n        if (matched) {\n            // Check for ambiguity against already matched parameters (e.g. `address` vs `bytes20`).\n            if (matchedAbiItem &&\n                'inputs' in matchedAbiItem &&\n                matchedAbiItem.inputs) {\n                const ambiguousTypes = getAmbiguousTypes(abiItem.inputs, matchedAbiItem.inputs, args);\n                if (ambiguousTypes)\n                    throw new AbiItemAmbiguityError({\n                        abiItem,\n                        type: ambiguousTypes[0],\n                    }, {\n                        abiItem: matchedAbiItem,\n                        type: ambiguousTypes[1],\n                    });\n            }\n            matchedAbiItem = abiItem;\n        }\n    }\n    if (matchedAbiItem)\n        return matchedAbiItem;\n    return abiItems[0];\n}\n/** @internal */\nexport function isArgOfType(arg, abiParameter) {\n    const argType = typeof arg;\n    const abiParameterType = abiParameter.type;\n    switch (abiParameterType) {\n        case 'address':\n            return isAddress(arg, { strict: false });\n        case 'bool':\n            return argType === 'boolean';\n        case 'function':\n            return argType === 'string';\n        case 'string':\n            return argType === 'string';\n        default: {\n            if (abiParameterType === 'tuple' && 'components' in abiParameter)\n                return Object.values(abiParameter.components).every((component, index) => {\n                    return isArgOfType(Object.values(arg)[index], component);\n                });\n            // `(u)int<M>`: (un)signed integer type of `M` bits, `0 < M <= 256`, `M % 8 == 0`\n            // https://regexr.com/6v8hp\n            if (/^u?int(8|16|24|32|40|48|56|64|72|80|88|96|104|112|120|128|136|144|152|160|168|176|184|192|200|208|216|224|232|240|248|256)?$/.test(abiParameterType))\n                return argType === 'number' || argType === 'bigint';\n            // `bytes<M>`: binary type of `M` bytes, `0 < M <= 32`\n            // https://regexr.com/6va55\n            if (/^bytes([1-9]|1[0-9]|2[0-9]|3[0-2])?$/.test(abiParameterType))\n                return argType === 'string' || arg instanceof Uint8Array;\n            // fixed-length (`<type>[M]`) and dynamic (`<type>[]`) arrays\n            // https://regexr.com/6va6i\n            if (/[a-z]+[1-9]{0,3}(\\[[0-9]{0,}\\])+$/.test(abiParameterType)) {\n                return (Array.isArray(arg) &&\n                    arg.every((x) => isArgOfType(x, {\n                        ...abiParameter,\n                        // Pop off `[]` or `[M]` from end of type\n                        type: abiParameterType.replace(/(\\[[0-9]{0,}\\])$/, ''),\n                    })));\n            }\n            return false;\n        }\n    }\n}\n/** @internal */\nexport function getAmbiguousTypes(sourceParameters, targetParameters, args) {\n    for (const parameterIndex in sourceParameters) {\n        const sourceParameter = sourceParameters[parameterIndex];\n        const targetParameter = targetParameters[parameterIndex];\n        if (sourceParameter.type === 'tuple' &&\n            targetParameter.type === 'tuple' &&\n            'components' in sourceParameter &&\n            'components' in targetParameter)\n            return getAmbiguousTypes(sourceParameter.components, targetParameter.components, args[parameterIndex]);\n        const types = [sourceParameter.type, targetParameter.type];\n        const ambiguous = (() => {\n            if (types.includes('address') && types.includes('bytes20'))\n                return true;\n            if (types.includes('address') && types.includes('string'))\n                return isAddress(args[parameterIndex], { strict: false });\n            if (types.includes('address') && types.includes('bytes'))\n                return isAddress(args[parameterIndex], { strict: false });\n            return false;\n        })();\n        if (ambiguous)\n            return types;\n    }\n    return;\n}\n//# sourceMappingURL=getAbiItem.js.map","import { AbiFunctionNotFoundError, } from '../../errors/abi.js';\nimport { toFunctionSelector, } from '../hash/toFunctionSelector.js';\nimport { formatAbiItem } from './formatAbiItem.js';\nimport { getAbiItem } from './getAbiItem.js';\nconst docsPath = '/docs/contract/encodeFunctionData';\nexport function prepareEncodeFunctionData(parameters) {\n    const { abi, args, functionName } = parameters;\n    let abiItem = abi[0];\n    if (functionName) {\n        const item = getAbiItem({\n            abi,\n            args,\n            name: functionName,\n        });\n        if (!item)\n            throw new AbiFunctionNotFoundError(functionName, { docsPath });\n        abiItem = item;\n    }\n    if (abiItem.type !== 'function')\n        throw new AbiFunctionNotFoundError(undefined, { docsPath });\n    return {\n        abi: [abiItem],\n        functionName: toFunctionSelector(formatAbiItem(abiItem)),\n    };\n}\n//# sourceMappingURL=prepareEncodeFunctionData.js.map","import { concatHex } from '../data/concat.js';\nimport { encodeAbiParameters, } from './encodeAbiParameters.js';\nimport { prepareEncodeFunctionData } from './prepareEncodeFunctionData.js';\nexport function encodeFunctionData(parameters) {\n    const { args } = parameters;\n    const { abi, functionName } = (() => {\n        if (parameters.abi.length === 1 &&\n            parameters.functionName?.startsWith('0x'))\n            return parameters;\n        return prepareEncodeFunctionData(parameters);\n    })();\n    const abiItem = abi[0];\n    const signature = functionName;\n    const data = 'inputs' in abiItem && abiItem.inputs\n        ? encodeAbiParameters(abiItem.inputs, args ?? [])\n        : undefined;\n    return concatHex([signature, data ?? '0x']);\n}\n//# sourceMappingURL=encodeFunctionData.js.map","export const arrayRegex = /^(.*)\\[([0-9]*)\\]$/;\n// `bytes<M>`: binary type of `M` bytes, `0 < M <= 32`\n// https://regexr.com/6va55\nexport const bytesRegex = /^bytes([1-9]|1[0-9]|2[0-9]|3[0-2])?$/;\n// `(u)int<M>`: (un)signed integer type of `M` bits, `0 < M <= 256`, `M % 8 == 0`\n// https://regexr.com/6v8hp\nexport const integerRegex = /^(u?int)(8|16|24|32|40|48|56|64|72|80|88|96|104|112|120|128|136|144|152|160|168|176|184|192|200|208|216|224|232|240|248|256)?$/;\n//# sourceMappingURL=regex.js.map","// Implementation forked and adapted from https://github.com/MetaMask/eth-sig-util/blob/main/src/sign-typed-data.ts\nimport { encodeAbiParameters, } from '../abi/encodeAbiParameters.js';\nimport { concat } from '../data/concat.js';\nimport { toHex } from '../encoding/toHex.js';\nimport { keccak256 } from '../hash/keccak256.js';\nimport { getTypesForEIP712Domain, validateTypedData, } from '../typedData.js';\nexport function hashTypedData(parameters) {\n    const { domain = {}, message, primaryType, } = parameters;\n    const types = {\n        EIP712Domain: getTypesForEIP712Domain({ domain }),\n        ...parameters.types,\n    };\n    // Need to do a runtime validation check on addresses, byte ranges, integer ranges, etc\n    // as we can't statically check this with TypeScript.\n    validateTypedData({\n        domain,\n        message,\n        primaryType,\n        types,\n    });\n    const parts = ['0x1901'];\n    if (domain)\n        parts.push(hashDomain({\n            domain,\n            types: types,\n        }));\n    if (primaryType !== 'EIP712Domain')\n        parts.push(hashStruct({\n            data: message,\n            primaryType,\n            types: types,\n        }));\n    return keccak256(concat(parts));\n}\nexport function hashDomain({ domain, types, }) {\n    return hashStruct({\n        data: domain,\n        primaryType: 'EIP712Domain',\n        types,\n    });\n}\nexport function hashStruct({ data, primaryType, types, }) {\n    const encoded = encodeData({\n        data,\n        primaryType,\n        types,\n    });\n    return keccak256(encoded);\n}\nfunction encodeData({ data, primaryType, types, }) {\n    const encodedTypes = [{ type: 'bytes32' }];\n    const encodedValues = [hashType({ primaryType, types })];\n    for (const field of types[primaryType]) {\n        const [type, value] = encodeField({\n            types,\n            name: field.name,\n            type: field.type,\n            value: data[field.name],\n        });\n        encodedTypes.push(type);\n        encodedValues.push(value);\n    }\n    return encodeAbiParameters(encodedTypes, encodedValues);\n}\nfunction hashType({ primaryType, types, }) {\n    const encodedHashType = toHex(encodeType({ primaryType, types }));\n    return keccak256(encodedHashType);\n}\nexport function encodeType({ primaryType, types, }) {\n    let result = '';\n    const unsortedDeps = findTypeDependencies({ primaryType, types });\n    unsortedDeps.delete(primaryType);\n    const deps = [primaryType, ...Array.from(unsortedDeps).sort()];\n    for (const type of deps) {\n        result += `${type}(${types[type]\n            .map(({ name, type: t }) => `${t} ${name}`)\n            .join(',')})`;\n    }\n    return result;\n}\nfunction findTypeDependencies({ primaryType: primaryType_, types, }, results = new Set()) {\n    const match = primaryType_.match(/^\\w*/u);\n    const primaryType = match?.[0];\n    if (results.has(primaryType) || types[primaryType] === undefined) {\n        return results;\n    }\n    results.add(primaryType);\n    for (const field of types[primaryType]) {\n        findTypeDependencies({ primaryType: field.type, types }, results);\n    }\n    return results;\n}\nfunction encodeField({ types, name, type, value, }) {\n    if (types[type] !== undefined) {\n        return [\n            { type: 'bytes32' },\n            keccak256(encodeData({ data: value, primaryType: type, types })),\n        ];\n    }\n    if (type === 'bytes') {\n        const prepend = value.length % 2 ? '0' : '';\n        value = `0x${prepend + value.slice(2)}`;\n        return [{ type: 'bytes32' }, keccak256(value)];\n    }\n    if (type === 'string')\n        return [{ type: 'bytes32' }, keccak256(toHex(value))];\n    if (type.lastIndexOf(']') === type.length - 1) {\n        const parsedType = type.slice(0, type.lastIndexOf('['));\n        const typeValuePairs = value.map((item) => encodeField({\n            name,\n            type: parsedType,\n            types,\n            value: item,\n        }));\n        return [\n            { type: 'bytes32' },\n            keccak256(encodeAbiParameters(typeValuePairs.map(([t]) => t), typeValuePairs.map(([, v]) => v))),\n        ];\n    }\n    return [{ type }, value];\n}\n//# sourceMappingURL=hashTypedData.js.map","import { BytesSizeMismatchError } from '../errors/abi.js';\nimport { InvalidAddressError } from '../errors/address.js';\nimport { isAddress } from './address/isAddress.js';\nimport { size } from './data/size.js';\nimport { numberToHex } from './encoding/toHex.js';\nimport { bytesRegex, integerRegex } from './regex.js';\nimport { hashDomain, } from './signature/hashTypedData.js';\nimport { stringify } from './stringify.js';\nexport function serializeTypedData(parameters) {\n    const { domain: domain_, message: message_, primaryType, types, } = parameters;\n    const normalizeData = (struct, data_) => {\n        const data = { ...data_ };\n        for (const param of struct) {\n            const { name, type } = param;\n            if (type === 'address')\n                data[name] = data[name].toLowerCase();\n        }\n        return data;\n    };\n    const domain = (() => {\n        if (!types.EIP712Domain)\n            return {};\n        if (!domain_)\n            return {};\n        return normalizeData(types.EIP712Domain, domain_);\n    })();\n    const message = (() => {\n        if (primaryType === 'EIP712Domain')\n            return undefined;\n        return normalizeData(types[primaryType], message_);\n    })();\n    return stringify({ domain, message, primaryType, types });\n}\nexport function validateTypedData(parameters) {\n    const { domain, message, primaryType, types } = parameters;\n    const validateData = (struct, data) => {\n        for (const param of struct) {\n            const { name, type } = param;\n            const value = data[name];\n            const integerMatch = type.match(integerRegex);\n            if (integerMatch &&\n                (typeof value === 'number' || typeof value === 'bigint')) {\n                const [_type, base, size_] = integerMatch;\n                // If number cannot be cast to a sized hex value, it is out of range\n                // and will throw.\n                numberToHex(value, {\n                    signed: base === 'int',\n                    size: Number.parseInt(size_) / 8,\n                });\n            }\n            if (type === 'address' && typeof value === 'string' && !isAddress(value))\n                throw new InvalidAddressError({ address: value });\n            const bytesMatch = type.match(bytesRegex);\n            if (bytesMatch) {\n                const [_type, size_] = bytesMatch;\n                if (size_ && size(value) !== Number.parseInt(size_))\n                    throw new BytesSizeMismatchError({\n                        expectedSize: Number.parseInt(size_),\n                        givenSize: size(value),\n                    });\n            }\n            const struct = types[type];\n            if (struct)\n                validateData(struct, value);\n        }\n    };\n    // Validate domain types.\n    if (types.EIP712Domain && domain)\n        validateData(types.EIP712Domain, domain);\n    // Validate message types.\n    if (primaryType !== 'EIP712Domain')\n        validateData(types[primaryType], message);\n}\nexport function getTypesForEIP712Domain({ domain, }) {\n    return [\n        typeof domain?.name === 'string' && { name: 'name', type: 'string' },\n        domain?.version && { name: 'version', type: 'string' },\n        typeof domain?.chainId === 'number' && {\n            name: 'chainId',\n            type: 'uint256',\n        },\n        domain?.verifyingContract && {\n            name: 'verifyingContract',\n            type: 'address',\n        },\n        domain?.salt && { name: 'salt', type: 'bytes32' },\n    ].filter(Boolean);\n}\nexport function domainSeparator({ domain }) {\n    return hashDomain({\n        domain,\n        types: {\n            EIP712Domain: getTypesForEIP712Domain({ domain }),\n        },\n    });\n}\n//# sourceMappingURL=typedData.js.map","export const presignMessagePrefix = '\\x19Ethereum Signed Message:\\n';\n//# sourceMappingURL=strings.js.map","import { presignMessagePrefix } from '../../constants/strings.js';\nimport { concat } from '../data/concat.js';\nimport { size } from '../data/size.js';\nimport { bytesToHex, stringToHex, } from '../encoding/toHex.js';\nexport function toPrefixedMessage(message_) {\n    const message = (() => {\n        if (typeof message_ === 'string')\n            return stringToHex(message_);\n        if (typeof message_.raw === 'string')\n            return message_.raw;\n        return bytesToHex(message_.raw);\n    })();\n    const prefix = stringToHex(`${presignMessagePrefix}${size(message)}`);\n    return concat([prefix, message]);\n}\n//# sourceMappingURL=toPrefixedMessage.js.map","import { keccak256 } from '../hash/keccak256.js';\nimport { toPrefixedMessage } from './toPrefixedMessage.js';\nexport function hashMessage(message, to_) {\n    return keccak256(toPrefixedMessage(message), to_);\n}\n//# sourceMappingURL=hashMessage.js.map","const MAGIC_VALUE = '0x1626ba7e';\nconst MAGIC_VALUE_BYTES = '0x20c13b0b';\nexport { MAGIC_VALUE, MAGIC_VALUE_BYTES };\n//# sourceMappingURL=signatures.js.map","export const PERMISSIONS_REQUEST_REJECTED = 4001;\nexport class PermissionsError extends Error {\n    constructor(message, code, data) {\n        super(message);\n        this.code = code;\n        this.data = data;\n        // Should adjust prototype manually because how TS handles the type extension compilation\n        // https://github.com/Microsoft/TypeScript/wiki/Breaking-Changes#extending-built-ins-like-error-array-and-map-may-no-longer-work\n        Object.setPrototypeOf(this, PermissionsError.prototype);\n    }\n}\n//# sourceMappingURL=permissions.js.map","import { Methods, RestrictedMethods } from '../communication/methods.js';\nimport { PermissionsError, PERMISSIONS_REQUEST_REJECTED } from '../types/permissions.js';\nclass Wallet {\n    constructor(communicator) {\n        this.communicator = communicator;\n    }\n    async getPermissions() {\n        const response = await this.communicator.send(Methods.wallet_getPermissions, undefined);\n        return response.data;\n    }\n    async requestPermissions(permissions) {\n        if (!this.isPermissionRequestValid(permissions)) {\n            throw new PermissionsError('Permissions request is invalid', PERMISSIONS_REQUEST_REJECTED);\n        }\n        try {\n            const response = await this.communicator.send(Methods.wallet_requestPermissions, permissions);\n            return response.data;\n        }\n        catch {\n            throw new PermissionsError('Permissions rejected', PERMISSIONS_REQUEST_REJECTED);\n        }\n    }\n    isPermissionRequestValid(permissions) {\n        return permissions.every((pr) => {\n            if (typeof pr === 'object') {\n                return Object.keys(pr).every((method) => {\n                    if (Object.values(RestrictedMethods).includes(method)) {\n                        return true;\n                    }\n                    return false;\n                });\n            }\n            return false;\n        });\n    }\n}\nexport { Wallet };\n//# sourceMappingURL=index.js.map","import { Wallet } from '../wallet/index.js';\nimport { PermissionsError, PERMISSIONS_REQUEST_REJECTED } from '../types/permissions.js';\nconst hasPermission = (required, permissions) => permissions.some((permission) => permission.parentCapability === required);\nconst requirePermission = () => (_, propertyKey, descriptor) => {\n    const originalMethod = descriptor.value;\n    descriptor.value = async function () {\n        // @ts-expect-error accessing private property from decorator. 'this' context is the class instance\n        const wallet = new Wallet(this.communicator);\n        let currentPermissions = await wallet.getPermissions();\n        if (!hasPermission(propertyKey, currentPermissions)) {\n            currentPermissions = await wallet.requestPermissions([{ [propertyKey]: {} }]);\n        }\n        if (!hasPermission(propertyKey, currentPermissions)) {\n            throw new PermissionsError('Permissions rejected', PERMISSIONS_REQUEST_REJECTED);\n        }\n        return originalMethod.apply(this);\n    };\n    return descriptor;\n};\nexport default requirePermission;\n//# sourceMappingURL=requirePermissions.js.map","var __decorate = (this && this.__decorate) || function (decorators, target, key, desc) {\n    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;\n    if (typeof Reflect === \"object\" && typeof Reflect.decorate === \"function\") r = Reflect.decorate(decorators, target, key, desc);\n    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;\n    return c > 3 && r && Object.defineProperty(target, key, r), r;\n};\nimport { encodeFunctionData, hashMessage, hashTypedData } from 'viem';\nimport { MAGIC_VALUE_BYTES, MAGIC_VALUE } from './signatures.js';\nimport { Methods } from '../communication/methods.js';\nimport { RPC_CALLS } from '../eth/constants.js';\nimport { isObjectEIP712TypedData, } from '../types/index.js';\nimport requirePermission from '../decorators/requirePermissions.js';\nclass Safe {\n    constructor(communicator) {\n        this.communicator = communicator;\n    }\n    async getChainInfo() {\n        const response = await this.communicator.send(Methods.getChainInfo, undefined);\n        return response.data;\n    }\n    async getInfo() {\n        const response = await this.communicator.send(Methods.getSafeInfo, undefined);\n        return response.data;\n    }\n    // There is a possibility that this method will change because we may add pagination to the endpoint\n    async experimental_getBalances({ currency = 'usd' } = {}) {\n        const response = await this.communicator.send(Methods.getSafeBalances, {\n            currency,\n        });\n        return response.data;\n    }\n    async check1271Signature(messageHash, signature = '0x') {\n        const safeInfo = await this.getInfo();\n        const encodedIsValidSignatureCall = encodeFunctionData({\n            abi: [\n                {\n                    constant: false,\n                    inputs: [\n                        {\n                            name: '_dataHash',\n                            type: 'bytes32',\n                        },\n                        {\n                            name: '_signature',\n                            type: 'bytes',\n                        },\n                    ],\n                    name: 'isValidSignature',\n                    outputs: [\n                        {\n                            name: '',\n                            type: 'bytes4',\n                        },\n                    ],\n                    payable: false,\n                    stateMutability: 'nonpayable',\n                    type: 'function',\n                },\n            ],\n            functionName: 'isValidSignature',\n            args: [messageHash, signature],\n        });\n        const payload = {\n            call: RPC_CALLS.eth_call,\n            params: [\n                {\n                    to: safeInfo.safeAddress,\n                    data: encodedIsValidSignatureCall,\n                },\n                'latest',\n            ],\n        };\n        try {\n            const response = await this.communicator.send(Methods.rpcCall, payload);\n            return response.data.slice(0, 10).toLowerCase() === MAGIC_VALUE;\n        }\n        catch (err) {\n            return false;\n        }\n    }\n    async check1271SignatureBytes(messageHash, signature = '0x') {\n        const safeInfo = await this.getInfo();\n        const encodedIsValidSignatureCall = encodeFunctionData({\n            abi: [\n                {\n                    constant: false,\n                    inputs: [\n                        {\n                            name: '_data',\n                            type: 'bytes',\n                        },\n                        {\n                            name: '_signature',\n                            type: 'bytes',\n                        },\n                    ],\n                    name: 'isValidSignature',\n                    outputs: [\n                        {\n                            name: '',\n                            type: 'bytes4',\n                        },\n                    ],\n                    payable: false,\n                    stateMutability: 'nonpayable',\n                    type: 'function',\n                },\n            ],\n            functionName: 'isValidSignature',\n            args: [messageHash, signature],\n        });\n        const payload = {\n            call: RPC_CALLS.eth_call,\n            params: [\n                {\n                    to: safeInfo.safeAddress,\n                    data: encodedIsValidSignatureCall,\n                },\n                'latest',\n            ],\n        };\n        try {\n            const response = await this.communicator.send(Methods.rpcCall, payload);\n            return response.data.slice(0, 10).toLowerCase() === MAGIC_VALUE_BYTES;\n        }\n        catch (err) {\n            return false;\n        }\n    }\n    calculateMessageHash(message) {\n        return hashMessage(message);\n    }\n    calculateTypedMessageHash(typedMessage) {\n        const chainId = typeof typedMessage.domain.chainId === 'object'\n            ? typedMessage.domain.chainId.toNumber()\n            : Number(typedMessage.domain.chainId);\n        let primaryType = typedMessage.primaryType;\n        if (!primaryType) {\n            const fields = Object.values(typedMessage.types);\n            // We try to infer primaryType (simplified ether's version)\n            const primaryTypes = Object.keys(typedMessage.types).filter((typeName) => fields.every((dataTypes) => dataTypes.every(({ type }) => type.replace('[', '').replace(']', '') !== typeName)));\n            if (primaryTypes.length === 0 || primaryTypes.length > 1)\n                throw new Error('Please specify primaryType');\n            primaryType = primaryTypes[0];\n        }\n        return hashTypedData({\n            message: typedMessage.message,\n            domain: {\n                ...typedMessage.domain,\n                chainId,\n                verifyingContract: typedMessage.domain.verifyingContract,\n                salt: typedMessage.domain.salt,\n            },\n            types: typedMessage.types,\n            primaryType,\n        });\n    }\n    async getOffChainSignature(messageHash) {\n        const response = await this.communicator.send(Methods.getOffChainSignature, messageHash);\n        return response.data;\n    }\n    async isMessageSigned(message, signature = '0x') {\n        let check;\n        if (typeof message === 'string') {\n            check = async () => {\n                const messageHash = this.calculateMessageHash(message);\n                const messageHashSigned = await this.isMessageHashSigned(messageHash, signature);\n                return messageHashSigned;\n            };\n        }\n        if (isObjectEIP712TypedData(message)) {\n            check = async () => {\n                const messageHash = this.calculateTypedMessageHash(message);\n                const messageHashSigned = await this.isMessageHashSigned(messageHash, signature);\n                return messageHashSigned;\n            };\n        }\n        if (check) {\n            const isValid = await check();\n            return isValid;\n        }\n        throw new Error('Invalid message type');\n    }\n    async isMessageHashSigned(messageHash, signature = '0x') {\n        const checks = [this.check1271Signature.bind(this), this.check1271SignatureBytes.bind(this)];\n        for (const check of checks) {\n            const isValid = await check(messageHash, signature);\n            if (isValid) {\n                return true;\n            }\n        }\n        return false;\n    }\n    async getEnvironmentInfo() {\n        const response = await this.communicator.send(Methods.getEnvironmentInfo, undefined);\n        return response.data;\n    }\n    async requestAddressBook() {\n        const response = await this.communicator.send(Methods.requestAddressBook, undefined);\n        return response.data;\n    }\n}\n__decorate([\n    requirePermission()\n], Safe.prototype, \"requestAddressBook\", null);\nexport { Safe };\n//# sourceMappingURL=index.js.map","import InterfaceCommunicator from './communication/index.js';\nimport { TXs } from './txs/index.js';\nimport { Eth } from './eth/index.js';\nimport { Safe } from './safe/index.js';\nimport { Wallet } from './wallet/index.js';\nclass SafeAppsSDK {\n    constructor(opts = {}) {\n        const { allowedDomains = null, debug = false } = opts;\n        this.communicator = new InterfaceCommunicator(allowedDomains, debug);\n        this.eth = new Eth(this.communicator);\n        this.txs = new TXs(this.communicator);\n        this.safe = new Safe(this.communicator);\n        this.wallet = new Wallet(this.communicator);\n    }\n}\nexport default SafeAppsSDK;\n//# sourceMappingURL=sdk.js.map","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.getLowerCase = void 0;\nfunction getLowerCase(value) {\n    if (value) {\n        return value.toLowerCase();\n    }\n    return value;\n}\nexports.getLowerCase = getLowerCase;\n//# sourceMappingURL=utils.js.map","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.SafeAppProvider = void 0;\nconst events_1 = require(\"events\");\nconst utils_1 = require(\"./utils\");\n// The API is based on Ethereum JavaScript API Provider Standard. Link: https://eips.ethereum.org/EIPS/eip-1193\nclass SafeAppProvider extends events_1.EventEmitter {\n    constructor(safe, sdk) {\n        super();\n        this.submittedTxs = new Map();\n        this.safe = safe;\n        this.sdk = sdk;\n    }\n    async connect() {\n        this.emit('connect', { chainId: this.chainId });\n        return;\n    }\n    async disconnect() {\n        return;\n    }\n    get chainId() {\n        return this.safe.chainId;\n    }\n    // eslint-disable-next-line @typescript-eslint/no-explicit-any\n    async request(request) {\n        const { method, params = [] } = request;\n        switch (method) {\n            case 'eth_accounts':\n                return [this.safe.safeAddress];\n            case 'net_version':\n            case 'eth_chainId':\n                return `0x${this.chainId.toString(16)}`;\n            case 'personal_sign': {\n                const [message, address] = params;\n                if (this.safe.safeAddress.toLowerCase() !== address.toLowerCase()) {\n                    throw new Error('The address or message hash is invalid');\n                }\n                const response = await this.sdk.txs.signMessage(message);\n                const signature = 'signature' in response ? response.signature : undefined;\n                return signature || '0x';\n            }\n            case 'eth_sign': {\n                const [address, messageHash] = params;\n                if (this.safe.safeAddress.toLowerCase() !== address.toLowerCase() || !messageHash.startsWith('0x')) {\n                    throw new Error('The address or message hash is invalid');\n                }\n                const response = await this.sdk.txs.signMessage(messageHash);\n                const signature = 'signature' in response ? response.signature : undefined;\n                return signature || '0x';\n            }\n            case 'eth_signTypedData':\n            case 'eth_signTypedData_v4': {\n                const [address, typedData] = params;\n                const parsedTypedData = typeof typedData === 'string' ? JSON.parse(typedData) : typedData;\n                if (this.safe.safeAddress.toLowerCase() !== address.toLowerCase()) {\n                    throw new Error('The address is invalid');\n                }\n                const response = await this.sdk.txs.signTypedMessage(parsedTypedData);\n                const signature = 'signature' in response ? response.signature : undefined;\n                return signature || '0x';\n            }\n            case 'eth_sendTransaction':\n                // `value` or `data` can be explicitly set as `undefined` for example in Viem. The spread will overwrite the fallback value.\n                const tx = {\n                    ...params[0],\n                    value: params[0].value || '0',\n                    data: params[0].data || '0x',\n                };\n                // Some ethereum libraries might pass the gas as a hex-encoded string\n                // We need to convert it to a number because the SDK expects a number and our backend only supports\n                // Decimal numbers\n                if (typeof tx.gas === 'string' && tx.gas.startsWith('0x')) {\n                    tx.gas = parseInt(tx.gas, 16);\n                }\n                const resp = await this.sdk.txs.send({\n                    txs: [tx],\n                    params: { safeTxGas: tx.gas },\n                });\n                // Store fake transaction\n                this.submittedTxs.set(resp.safeTxHash, {\n                    from: this.safe.safeAddress,\n                    hash: resp.safeTxHash,\n                    gas: 0,\n                    gasPrice: '0x00',\n                    nonce: 0,\n                    input: tx.data,\n                    value: tx.value,\n                    to: tx.to,\n                    blockHash: null,\n                    blockNumber: null,\n                    transactionIndex: null,\n                });\n                return resp.safeTxHash;\n            case 'eth_blockNumber':\n                const block = await this.sdk.eth.getBlockByNumber(['latest']);\n                return block.number;\n            case 'eth_getBalance':\n                return this.sdk.eth.getBalance([(0, utils_1.getLowerCase)(params[0]), params[1]]);\n            case 'eth_getCode':\n                return this.sdk.eth.getCode([(0, utils_1.getLowerCase)(params[0]), params[1]]);\n            case 'eth_getTransactionCount':\n                return this.sdk.eth.getTransactionCount([(0, utils_1.getLowerCase)(params[0]), params[1]]);\n            case 'eth_getStorageAt':\n                return this.sdk.eth.getStorageAt([(0, utils_1.getLowerCase)(params[0]), params[1], params[2]]);\n            case 'eth_getBlockByNumber':\n                return this.sdk.eth.getBlockByNumber([params[0], params[1]]);\n            case 'eth_getBlockByHash':\n                return this.sdk.eth.getBlockByHash([params[0], params[1]]);\n            case 'eth_getTransactionByHash':\n                let txHash = params[0];\n                try {\n                    const resp = await this.sdk.txs.getBySafeTxHash(txHash);\n                    txHash = resp.txHash || txHash;\n                }\n                catch (e) { }\n                // Use fake transaction if we don't have a real tx hash\n                if (this.submittedTxs.has(txHash)) {\n                    return this.submittedTxs.get(txHash);\n                }\n                return this.sdk.eth.getTransactionByHash([txHash]).then((tx) => {\n                    // We set the tx hash to the one requested, as some provider assert this\n                    if (tx) {\n                        tx.hash = params[0];\n                    }\n                    return tx;\n                });\n            case 'eth_getTransactionReceipt': {\n                let txHash = params[0];\n                try {\n                    const resp = await this.sdk.txs.getBySafeTxHash(txHash);\n                    txHash = resp.txHash || txHash;\n                }\n                catch (e) { }\n                return this.sdk.eth.getTransactionReceipt([txHash]).then((tx) => {\n                    // We set the tx hash to the one requested, as some provider assert this\n                    if (tx) {\n                        tx.transactionHash = params[0];\n                    }\n                    return tx;\n                });\n            }\n            case 'eth_estimateGas': {\n                return this.sdk.eth.getEstimateGas(params[0]);\n            }\n            case 'eth_call': {\n                return this.sdk.eth.call([params[0], params[1]]);\n            }\n            case 'eth_getLogs':\n                return this.sdk.eth.getPastLogs([params[0]]);\n            case 'eth_gasPrice':\n                return this.sdk.eth.getGasPrice();\n            case 'wallet_getPermissions':\n                return this.sdk.wallet.getPermissions();\n            case 'wallet_requestPermissions':\n                return this.sdk.wallet.requestPermissions(params[0]);\n            case 'safe_setSettings':\n                return this.sdk.eth.setSafeSettings([params[0]]);\n            default:\n                throw Error(`\"${request.method}\" not implemented`);\n        }\n    }\n    // this method is needed for ethers v4\n    // https://github.com/ethers-io/ethers.js/blob/427e16826eb15d52d25c4f01027f8db22b74b76c/src.ts/providers/web3-provider.ts#L41-L55\n    send(request, callback) {\n        if (!request)\n            callback('Undefined request');\n        this.request(request)\n            .then((result) => callback(null, { jsonrpc: '2.0', id: request.id, result }))\n            .catch((error) => callback(error, null));\n    }\n}\nexports.SafeAppProvider = SafeAppProvider;\n//# sourceMappingURL=provider.js.map","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.SafeAppProvider = void 0;\nvar provider_1 = require(\"./provider\");\nObject.defineProperty(exports, \"SafeAppProvider\", { enumerable: true, get: function () { return provider_1.SafeAppProvider; } });\n//# sourceMappingURL=index.js.map","import { SafeAppProvider } from \"@safe-global/safe-apps-provider\";\nimport SafeSDK, { TransactionStatus } from \"@safe-global/safe-apps-sdk\";\nimport {\n  type ExtraProps,\n  configMeta,\n} from \"@sk-widget/providers/safe/safe-connector-meta\";\nimport { isIframe } from \"@sk-widget/utils\";\nimport type { Chain, WalletList } from \"@stakekit/rainbowkit\";\nimport {\n  type Connector,\n  ProviderNotFoundError,\n  createConnector,\n} from \"@wagmi/core\";\nimport { EitherAsync, Maybe } from \"purify-ts\";\nimport { BehaviorSubject } from \"rxjs\";\nimport { getAddress, withTimeout } from \"viem\";\n\nfunction safe(\n  parameters: {\n    shimDisconnect?: boolean;\n  } = {}\n) {\n  const { shimDisconnect = false } = parameters;\n\n  type Provider = SafeAppProvider | undefined;\n  type StorageItem = { \"safe.disconnected\": true };\n\n  let provider_: Provider | undefined;\n\n  let disconnect: Connector[\"onDisconnect\"] | undefined;\n\n  return createConnector<Provider, ExtraProps, StorageItem>((config) => {\n    const $filteredChains = new BehaviorSubject<Chain[]>([]);\n    const sdk = new SafeSDK();\n\n    return {\n      id: configMeta.id,\n      name: configMeta.name,\n      type: configMeta.type,\n      async connect() {\n        const provider = await this.getProvider();\n        if (!provider) throw new ProviderNotFoundError();\n\n        const accounts = await this.getAccounts();\n        const chainId = await this.getChainId();\n        $filteredChains.next(\n          Maybe.fromNullable(config.chains.find((c) => c.id === chainId))\n            .map((c) => [c])\n            .orDefault([])\n        );\n\n        if (!disconnect) {\n          disconnect = this.onDisconnect.bind(this);\n          provider.on(\"disconnect\", disconnect);\n        }\n\n        // Remove disconnected shim if it exists\n        if (shimDisconnect)\n          await config.storage?.removeItem(\"safe.disconnected\");\n\n        return { accounts, chainId };\n      },\n      async disconnect() {\n        const provider = await this.getProvider();\n        if (!provider) throw new ProviderNotFoundError();\n\n        if (disconnect) {\n          provider.removeListener(\"disconnect\", disconnect);\n          disconnect = undefined;\n        }\n\n        // Add shim signalling connector is disconnected\n        if (shimDisconnect)\n          await config.storage?.setItem(\"safe.disconnected\", true);\n      },\n      async getAccounts() {\n        const provider = await this.getProvider();\n        if (!provider) throw new ProviderNotFoundError();\n        return (await provider.request({ method: \"eth_accounts\" })).map(\n          getAddress\n        );\n      },\n      async getProvider() {\n        // Only allowed in iframe context\n        if (!isIframe()) return;\n\n        if (!provider_) {\n          // `getInfo` hangs when not used in Safe App iFrame\n          // https://github.com/safe-global/safe-apps-sdk/issues/263#issuecomment-1029835840\n          const safe = await withTimeout(() => sdk.safe.getInfo(), {\n            timeout: 10,\n          });\n          if (!safe) throw new Error(\"Could not load Safe information\");\n          provider_ = new SafeAppProvider(safe, sdk);\n        }\n        return provider_;\n      },\n      async getChainId() {\n        const provider = await this.getProvider();\n        if (!provider) throw new ProviderNotFoundError();\n        return Number(provider.chainId);\n      },\n      async isAuthorized() {\n        try {\n          const isDisconnected =\n            shimDisconnect &&\n            // If shim exists in storage, connector is disconnected\n            (await config.storage?.getItem(\"safe.disconnected\"));\n          if (isDisconnected) return false;\n\n          const accounts = await this.getAccounts();\n          return !!accounts.length;\n        } catch {\n          return false;\n        }\n      },\n      onAccountsChanged() {\n        // Not relevant for Safe because changing account requires app reload.\n      },\n      onChainChanged() {\n        // Not relevant for Safe because Safe smart contract wallets only exist on single chain.\n      },\n      onDisconnect() {\n        config.emitter.emit(\"disconnect\");\n      },\n      $filteredChains,\n      getTxStatus(txHash) {\n        return EitherAsync(() => sdk.txs.getBySafeTxHash(txHash)).mapLeft(\n          () => new Error(\"Could not get transaction status\")\n        );\n      },\n      txStatus: TransactionStatus,\n      sendTransactions(args) {\n        return EitherAsync(() => sdk.txs.send(args)).mapLeft(\n          () => new Error(\"Could not send transactions\")\n        );\n      },\n    };\n  });\n}\n\nexport const safeConnector = (): WalletList[number] => ({\n  groupName: \"Ledger Live\",\n  wallets: [\n    () => ({\n      id: configMeta.id,\n      name: configMeta.name,\n      iconUrl: \"\",\n      iconBackground: \"#fff\",\n      createConnector: () => safe({ shimDisconnect: true }),\n    }),\n  ],\n});\n"],"names":["getSDKVersion","dec2hex","dec","generateId","len","arr","generateRequestId","MessageFormatter","method","params","id","data","version","error","Methods","RestrictedMethods","PostMessageCommunicator","allowedOrigins","debugMode","origin","source","emptyOrMalformed","sentFromParentEl","majorVersionNumber","allowedSDKVersion","validOrigin","regExp","msg","payload","cb","request","resolve","reject","response","isObjectEIP712TypedData","obj","global","this","__self__","F","self","exports","support","isDataView","viewClasses","isArrayBufferView","normalizeName","name","normalizeValue","value","iteratorFor","items","iterator","Headers","headers","header","oldValue","callback","thisArg","consumed","body","fileReaderReady","reader","readBlobAsArrayBuffer","blob","promise","readBlobAsText","readArrayBufferAsText","buf","view","chars","i","bufferClone","Body","rejected","decode","methods","normalizeMethod","upcased","Request","input","options","form","bytes","split","parseHeaders","rawHeaders","preProcessedHeaders","line","parts","key","Response","bodyInit","redirectStatuses","url","status","message","fetch","init","xhr","abortXhr","ctx","module","__awaiter","_arguments","P","generator","adopt","fulfilled","step","e","result","__importDefault","mod","utils","cross_fetch_1","require$$0","isErrorResponse","replaceParam","str","insertParams","template","stringifyQuery","query","searchParams","searchString","fetchData","resp","json","errTxt","endpoint","utils_1","makeUrl","baseUrl","path","pathParams","pathname","search","postEndpoint","getEndpoint","rawUrl","config","ImplementationVersionState","SafeAppAccessPolicyTypes","SafeAppFeatures","SafeAppSocialPlatforms","Operation","TransactionStatus","TransferDirection","TransactionTokenType","SettingsInfoType","TransactionInfoType","ConflictType","TransactionListItemType","DetailedExecutionInfoType","LabelValue","RPC_AUTHENTICATION","GAS_PRICE_TYPE","FEATURES","TokenType","masterCopies","decodedData","SafeMessageListItemType","SafeMessageStatus","__createBinding","m","k","k2","desc","__exportStar","p","endpoint_1","config_1","require$$1","require$$2","require$$3","require$$4","require$$5","require$$6","require$$7","require$$8","require$$9","setBaseUrl","getSafeInfo","chainId","address","getIncomingTransfers","pageUrl","getModuleTransactions","getMultisigTransactions","getBalances","currency","getFiatCurrencies","getOwnedSafes","getCollectibles","getCollectiblesPage","getTransactionHistory","getTransactionQueue","trusted","getTransactionDetails","transactionId","postSafeGasEstimation","proposeTransaction","getChainsConfig","getChainConfig","getSafeApps","getMasterCopies","getDecodedData","encodedData","getSafeMessages","getSafeMessage","messageHash","proposeSafeMessage","confirmSafeMessage","TXs","communicator","safeTxHash","messagePayload","typedData","txs","RPC_CALLS","inputFormatters","arg","Eth","transaction","args","call","formatters","formatter","execTyped","regex","string","match","tupleRegex","formatAbiParameter","abiParameter","type","length","component","formatAbiParameters","abiParameters","formatAbiItem","abiItem","includeName","InvalidDefinitionTypeError","formatAbiParams","param","formatAbiParam","isHex","strict","size","errorConfig","docsBaseUrl","docsPath","docsSlug","BaseError","shortMessage","details","_a","docsUrl","fn","walk","err","AbiEncodingArrayLengthMismatchError","expectedLength","givenLength","AbiEncodingBytesSizeMismatchError","expectedSize","AbiEncodingLengthMismatchError","AbiFunctionNotFoundError","functionName","AbiItemAmbiguityError","x","y","BytesSizeMismatchError","givenSize","InvalidAbiEncodingTypeError","InvalidArrayError","SliceOffsetOutOfBoundsError","offset","position","SizeExceedsPaddingSizeError","targetSize","pad","hexOrBytes","dir","padHex","padBytes","hex_","hex","paddedBytes","padEnd","IntegerOutOfRangeError","max","min","signed","SizeOverflowError","maxSize","assertSize","size_","hexes","_v","toHex","opts","numberToHex","stringToHex","boolToHex","bytesToHex","value_","maxValue","minValue","suffix","encoder","toBytes","numberToBytes","boolToBytes","hexToBytes","stringToBytes","charCodeMap","charCodeToBase16","char","hexString","index","j","nibbleLeft","nibbleRight","number","n","isBytes","a","b","lengths","exists","instance","checkFinished","output","out","U32_MASK64","_32n","fromBig","le","lst","Ah","Al","h","l","rotlSH","s","rotlSL","rotlBH","rotlBL","u32","isLE","byteSwap","word","byteSwap32","utf8ToBytes","abytes","Hash","wrapConstructor","hashCons","hashC","tmp","SHA3_PI","SHA3_ROTL","_SHA3_IOTA","_0n","_1n","_2n","_7n","_256n","_0x71n","round","R","t","SHA3_IOTA_H","SHA3_IOTA_L","rotlH","rotlL","keccakP","rounds","B","idx1","idx0","B0","B1","Th","Tl","curH","curL","shift","PI","Keccak","blockLen","outputLen","enableXOF","state","pos","take","bufferOut","to","gen","keccak_256","keccak256","to_","hash","hashSignature","sig","normalizeSignature","signature","active","current","level","valid","toSignature","def","def_","toSignatureHash","toEventSelector","InvalidAddressError","LruMap","checksumAddressCache","checksumAddress","address_","hexAddress","addressRegex","isAddressCache","isAddress","cacheKey","concat","values","concatHex","concatBytes","acc","slice","start","end","sliceHex","sliceBytes","assertStartOffset","assertEndOffset","encodeAbiParameters","preparedParams","prepareParams","encodeParams","prepareParam","arrayComponents","getArrayComponents","encodeArray","encodeTuple","encodeAddress","encodeBool","encodeNumber","encodeBytes","encodeString","staticSize","dynamic","encoded","staticParams","dynamicParams","dynamicSize","dynamicChild","preparedParam","paramSize","bytesSize","hexValue","partsLength","param_","matches","toFunctionSelector","getAbiItem","parameters","abi","isSelector","abiItems","matchedAbiItem","isArgOfType","ambiguousTypes","getAmbiguousTypes","argType","abiParameterType","sourceParameters","targetParameters","parameterIndex","sourceParameter","targetParameter","types","prepareEncodeFunctionData","item","encodeFunctionData","bytesRegex","integerRegex","hashTypedData","domain","primaryType","getTypesForEIP712Domain","validateTypedData","hashDomain","hashStruct","encodeData","encodedTypes","encodedValues","hashType","field","encodeField","encodedHashType","encodeType","unsortedDeps","findTypeDependencies","deps","primaryType_","results","parsedType","typeValuePairs","v","validateData","struct","integerMatch","_type","base","bytesMatch","presignMessagePrefix","toPrefixedMessage","message_","prefix","hashMessage","MAGIC_VALUE","MAGIC_VALUE_BYTES","PERMISSIONS_REQUEST_REJECTED","PermissionsError","code","Wallet","permissions","pr","hasPermission","required","permission","requirePermission","_","propertyKey","descriptor","originalMethod","wallet","currentPermissions","__decorate","decorators","target","c","r","d","Safe","safeInfo","encodedIsValidSignatureCall","typedMessage","fields","primaryTypes","typeName","dataTypes","check","checks","SafeAppsSDK","allowedDomains","debug","InterfaceCommunicator","getLowerCase","provider","events_1","SafeAppProvider","safe","sdk","parsedTypedData","tx","txHash","provider_1","shimDisconnect","provider_","disconnect","createConnector","$filteredChains","BehaviorSubject","SafeSDK","configMeta","ProviderNotFoundError","accounts","Maybe","getAddress","isIframe","withTimeout","EitherAsync","safeConnector"],"mappings":"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","x_google_ignoreList":[0,1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,16,17,18,19,20,21,22,23,24,25,26,27,28,29,30,31,32,33,34,35,36,37,38,39,40,41,42,43,44,45,46,47,48,49,50,51,52,53,54,55,56,57,58,59,60,61,62,63,64,65,66,67,68,69,70,71,72,73]}